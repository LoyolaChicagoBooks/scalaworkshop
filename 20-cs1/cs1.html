<!DOCTYPE html>

<html :class="{'dark': darkMode === 'dark' || (darkMode === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches)}" class="scroll-smooth" data-content_root="../" lang="en" x-data="{ darkMode: localStorage.getItem('darkMode') || localStorage.setItem('darkMode', 'system'), activeSection: '' }" x-init="$watch('darkMode', val =&gt; localStorage.setItem('darkMode', val))">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="white" media="(prefers-color-scheme: light)" name="theme-color"/>
<meta content="black" media="(prefers-color-scheme: dark)" name="theme-color"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Scala in CS1 | Scala for Computer and Data Science v0.1.3</title>
<meta content="Scala in CS1 | Scala for Computer and Data Science v0.1.3" property="og:title"/>
<meta content="Scala in CS1 | Scala for Computer and Data Science v0.1.3" name="twitter:title"/>
<link href="../_static/pygments.css?v=03e43079" rel="stylesheet" type="text/css"/>
<link href="../_static/theme.css?v=42baaae4" rel="stylesheet" type="text/css"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../30-cs2/cs2.html" rel="next" title="Scala in CS2"/>
<link href="../10-install/install.html" rel="prev" title="Installing Scala"/>
<script>
    <!-- Prevent Flash of wrong theme -->
      const userPreference = localStorage.getItem('darkMode');
      let mode;
      if (userPreference === 'dark' || window.matchMedia('(prefers-color-scheme: dark)').matches) {
        mode = 'dark';
        document.documentElement.classList.add('dark');
      } else {
        mode = 'light';
      }
      if (!userPreference) {localStorage.setItem('darkMode', mode)}
    </script>
</head>
<body :class="{ 'overflow-hidden': showSidebar }" class="min-h-screen font-sans antialiased bg-background text-foreground" x-data="{ showSidebar: false, showScrollTop: false }">
<div @click.self="showSidebar = false" class="fixed inset-0 z-50 overflow-hidden bg-background/80 backdrop-blur-sm md:hidden" x-cloak="" x-show="showSidebar"></div><div class="relative flex flex-col min-h-screen" id="page"><a class="absolute top-0 left-0 z-[100] block bg-background p-4 text-xl transition -translate-x-full opacity-0 focus:translate-x-0 focus:opacity-100" href="#content">
      Skip to content
    </a>
<header class="sticky top-0 z-40 w-full border-b shadow-sm border-border supports-backdrop-blur:bg-background/60 bg-background/95 backdrop-blur"><div class="container flex items-center h-14">
<div class="hidden mr-4 md:flex">
<a class="flex items-center mr-6" href="../index.html"><span class="hidden font-bold sm:inline-block text-clip whitespace-nowrap">Scala for Computer and Data Science v0.1.3</span>
</a></div><button @click="showSidebar = true" class="inline-flex items-center justify-center h-10 px-0 py-2 mr-2 text-base font-medium transition-colors rounded-md hover:text-accent-foreground hover:bg-transparent md:hidden" type="button">
<svg aria-hidden="true" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M152.587 825.087q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440Zm0-203.587q-19.152 0-32.326-13.174T107.087 576q0-19.152 13.174-32.326t32.326-13.174h320q19.152 0 32.326 13.174T518.087 576q0 19.152-13.174 32.326T472.587 621.5h-320Zm0-203.587q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440ZM708.913 576l112.174 112.174q12.674 12.674 12.674 31.826t-12.674 31.826Q808.413 764.5 789.261 764.5t-31.826-12.674l-144-144Q600 594.391 600 576t13.435-31.826l144-144q12.674-12.674 31.826-12.674t31.826 12.674q12.674 12.674 12.674 31.826t-12.674 31.826L708.913 576Z"></path>
</svg>
<span class="sr-only">Toggle navigation menu</span>
</button>
<div class="flex items-center justify-between flex-1 space-x-2 sm:space-x-4 md:justify-end">
<div class="flex-1 w-full md:w-auto md:flex-none"><form @keydown.k.window.meta="$refs.search.focus()" action="../search.html" class="relative flex items-center group" id="searchbox" method="get">
<input aria-label="Search the docs" class="inline-flex items-center font-medium transition-colors bg-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background border border-input hover:bg-accent focus:bg-accent hover:text-accent-foreground focus:text-accent-foreground hover:placeholder-accent-foreground py-2 px-4 relative h-9 w-full justify-start rounded-[0.5rem] text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64" id="search-input" name="q" placeholder="Search ..." type="search" x-ref="search"/>
<kbd class="pointer-events-none absolute right-1.5 top-2 hidden h-5 select-none text-muted-foreground items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex group-hover:bg-accent group-hover:text-accent-foreground">
<span class="text-xs">⌘</span>
    K
  </kbd>
</form>
</div>
<nav class="flex items-center space-x-1">
<button @click="darkMode = darkMode === 'light' ? 'dark' : 'light'" aria-label="Color theme switcher" class="relative inline-flex items-center justify-center px-0 text-sm font-medium transition-colors rounded-md hover:bg-accent hover:text-accent-foreground h-9 w-9" type="button">
<svg class="absolute transition-all scale-100 rotate-0 dark:-rotate-90 dark:scale-0" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 685q45.456 0 77.228-31.772Q589 621.456 589 576q0-45.456-31.772-77.228Q525.456 467 480 467q-45.456 0-77.228 31.772Q371 530.544 371 576q0 45.456 31.772 77.228Q434.544 685 480 685Zm0 91q-83 0-141.5-58.5T280 576q0-83 58.5-141.5T480 376q83 0 141.5 58.5T680 576q0 83-58.5 141.5T480 776ZM80 621.5q-19.152 0-32.326-13.174T34.5 576q0-19.152 13.174-32.326T80 530.5h80q19.152 0 32.326 13.174T205.5 576q0 19.152-13.174 32.326T160 621.5H80Zm720 0q-19.152 0-32.326-13.174T754.5 576q0-19.152 13.174-32.326T800 530.5h80q19.152 0 32.326 13.174T925.5 576q0 19.152-13.174 32.326T880 621.5h-80Zm-320-320q-19.152 0-32.326-13.174T434.5 256v-80q0-19.152 13.174-32.326T480 130.5q19.152 0 32.326 13.174T525.5 176v80q0 19.152-13.174 32.326T480 301.5Zm0 720q-19.152 0-32.326-13.17Q434.5 995.152 434.5 976v-80q0-19.152 13.174-32.326T480 850.5q19.152 0 32.326 13.174T525.5 896v80q0 19.152-13.174 32.33-13.174 13.17-32.326 13.17ZM222.174 382.065l-43-42Q165.5 327.391 166 308.239t13.174-33.065q13.435-13.674 32.587-13.674t32.065 13.674l42.239 43q12.674 13.435 12.555 31.706-.12 18.272-12.555 31.946-12.674 13.674-31.445 13.413-18.772-.261-32.446-13.174Zm494 494.761-42.239-43q-12.674-13.435-12.674-32.087t12.674-31.565Q686.609 756.5 705.38 757q18.772.5 32.446 13.174l43 41.761Q794.5 824.609 794 843.761t-13.174 33.065Q767.391 890.5 748.239 890.5t-32.065-13.674Zm-42-494.761Q660.5 369.391 661 350.62q.5-18.772 13.174-32.446l41.761-43Q728.609 261.5 747.761 262t33.065 13.174q13.674 13.435 13.674 32.587t-13.674 32.065l-43 42.239q-13.435 12.674-31.706 12.555-18.272-.12-31.946-12.555Zm-495 494.761Q165.5 863.391 165.5 844.239t13.674-32.065l43-42.239q13.435-12.674 32.087-12.674t31.565 12.674Q299.5 782.609 299 801.38q-.5 18.772-13.174 32.446l-41.761 43Q231.391 890.5 212.239 890t-33.065-13.174ZM480 576Z"></path>
</svg>
<svg class="absolute transition-all scale-0 rotate-90 dark:rotate-0 dark:scale-100" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 936q-151 0-255.5-104.5T120 576q0-138 90-239.5T440 218q25-3 39 18t-1 44q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q21-14 43-1.5t19 39.5q-14 138-117.5 229T480 936Zm0-80q88 0 158-48.5T740 681q-20 5-40 8t-40 3q-123 0-209.5-86.5T364 396q0-20 3-40t8-40q-78 32-126.5 102T200 576q0 116 82 198t198 82Zm-10-270Z"></path>
</svg>
</button>
</nav>
</div>
</div>
</header>
<div class="flex-1"><div class="container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10"><aside :aria-hidden="!showSidebar" :class="{ 'translate-x-0': showSidebar }" class="fixed inset-y-0 left-0 md:top-14 z-50 md:z-30 bg-background md:bg-transparent transition-all duration-100 -translate-x-full md:translate-x-0 ml-0 p-6 md:p-0 md:-ml-2 md:h-[calc(100vh-3.5rem)] w-5/6 md:w-full shrink-0 overflow-y-auto border-r border-border md:sticky" id="left-sidebar">
<a class="!justify-start text-sm md:!hidden bg-background" href="../index.html"><span class="font-bold text-clip whitespace-nowrap">Scala for Computer and Data Science v0.1.3</span>
</a>
<div class="relative overflow-hidden md:overflow-auto my-4 md:my-0 h-[calc(100vh-8rem)] md:h-auto">
<div class="overflow-y-auto h-full w-full relative pr-6"><nav class="table w-full min-w-full my-6 lg:my-8">
<p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../00-preliminaries/preliminaries.html">About the Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-intro/intro.html">About Scala</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-install/install.html">Installing Scala</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scala in CS1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../30-cs2/cs2.html">Scala in CS2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../40-buildtools/buildtools.html">Build Tools for Scala</a></li>
<li class="toctree-l1"><a class="reference internal" href="../50-webservices/webservices.html">Web Application and Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../60-android/android.html">Mobile Application Development with Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../70-parallel/parallel.html">Basic Parallelism using Par</a></li>
<li class="toctree-l1"><a class="reference internal" href="../80-actors/actors.html">Parallelism using Actors</a></li>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../90-pl/pl.html">Programming Language Topics<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../90-pl/abstraction.html">Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../90-pl/representation.html">Representation</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
<button @click="showSidebar = false" class="absolute md:hidden right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100" type="button">
<svg class="h-4 w-4" fill="currentColor" height="24" stroke="none" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 632 284 828q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536 576l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480 632Z"></path>
</svg>
</button>
</aside>
<main class="relative py-6 lg:gap-10 lg:py-8 xl:grid xl:grid-cols-[1fr_300px]">
<div class="w-full min-w-0 mx-auto">
<nav aria-label="breadcrumbs" class="flex items-center mb-4 space-x-1 text-sm text-muted-foreground">
<a class="overflow-hidden text-ellipsis whitespace-nowrap hover:text-foreground" href="../index.html">
<span class="hidden md:inline">Scala for Computer and Data Science v0.1.3</span>
<svg aria-label="Home" class="md:hidden" fill="currentColor" height="18" stroke="none" viewbox="0 96 960 960" width="18" xmlns="http://www.w3.org/2000/svg">
<path d="M240 856h120V616h240v240h120V496L480 316 240 496v360Zm-80 80V456l320-240 320 240v480H520V696h-80v240H160Zm320-350Z"></path>
</svg>
</a>
<div class="mr-1">/</div><span aria-current="page" class="font-medium text-foreground overflow-hidden text-ellipsis whitespace-nowrap">Scala in CS1</span>
</nav>
<div id="content" role="main">
<section id="scala-in-cs1">
<h1>Scala in CS1<a class="headerlink" href="#scala-in-cs1" title="Link to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This section is still in draft form but is nearly complete in terms of examples, subject to editing.
There might still be a few rough spots. Comments welcome to <a class="reference external" href="mailto:gkt%40cs.luc.edu">gkt<span>@</span>cs<span>.</span>luc<span>.</span>edu</a>.</p>
</div>
<p>This is an elaboration of our Google presentation slides: <a class="reference external" href="http://goo.gl/Q68fA">http://goo.gl/Q68fA</a>.</p>
<section id="motivating-scala-in-cs1">
<h2>Motivating Scala in CS1<a class="headerlink" href="#motivating-scala-in-cs1" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#motivating-scala-in-cs1'">¶</a></h2>
<ul class="simple">
<li><p>Programming in the small</p></li>
<li><p>REPL - Read-Evaluate-Print-Loop</p></li>
<li><p>Scripting Environment</p></li>
<li><p>Libraries allow for interesting code (JVM)</p></li>
<li><p>Static type checking</p></li>
<li><p>Uniform syntax</p></li>
<li><p>Everything is a method call</p></li>
<li><p>Powerful collections</p></li>
</ul>
<p>Our motivation is to have the best of both worlds:</p>
<ul class="simple">
<li><p>Concise script-ability of languages like Python and Ruby</p></li>
<li><p>Static type checking in the small makes it (generally) easy to fix compilation errors</p></li>
</ul>
<p>The emerging <em>worksheet</em> model makes it possible to give students many
examples that just work and can be adapted to solve new problems.</p>
</section>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#getting-started'">¶</a></h2>
<p>Like many <em>agile</em> languages, Scala embraces the notion of being able to get started using
a REPL (Read-Evaluate-Print-Loop), which allows for interactive execution and spontaneous
feedback.</p>
<p>We’re assuming the reader can set up Scala and Java (needed to run Scala, a language that
targets the JVM primarily). Once you have Scala and Java installed, you can open up an
interactive session using the <em>command line</em>. (For those who don’t prefer the command line,
especially on Windows, we recommend installing IntelliJ Community Edition and the Scala
plug-in. This will allow you to get an interactive session as well.)</p>
<section id="hello-world">
<h3>Hello, World<a class="headerlink" href="#hello-world" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#hello-world'">¶</a></h3>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">$</span><span class="w"> </span><span class="n">scala</span><span class="o">-</span><span class="mf">2.10</span>
</span><span id="line-2"><span class="nc">Welcome</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">Scala</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">2.10.3</span><span class="w"> </span><span class="p">(</span><span class="nc">Java</span><span class="w"> </span><span class="nc">HotSpot</span><span class="p">(</span><span class="nc">TM</span><span class="p">)</span><span class="w"> </span><span class="mi">64</span><span class="o">-</span><span class="nc">Bit</span><span class="w"> </span><span class="nc">Server</span><span class="w"> </span><span class="nc">VM</span><span class="p">,</span><span class="w"> </span><span class="nc">Java</span><span class="w"> </span><span class="mf">1.7.0_45</span><span class="p">).</span>
</span><span id="line-3"><span class="nc">Type</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">expressions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">evaluated</span><span class="p">.</span>
</span><span id="line-4"><span class="nc">Type</span><span class="w"> </span><span class="p">:</span><span class="n">help</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="p">.</span>
</span><span id="line-5">
</span><span id="line-6"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">"Hello, World"</span><span class="p">)</span>
</span><span id="line-7"><span class="nc">Hello</span><span class="p">,</span><span class="w"> </span><span class="nc">World</span>
</span></code></pre></div>
</div>
</section>
<section id="types-lack-of-primitives">
<h3>Types - “Lack” of Primitives<a class="headerlink" href="#types-lack-of-primitives" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#types-lack-of-primitives'">¶</a></h3>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span>
</span><span id="line-2"><span class="n">res1</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</span></code></pre></div>
</div>
<p>In the following, the user types <code class="docutils literal notranslate"><span class="pre">1.</span></code> and then hits the <code class="docutils literal notranslate"><span class="pre">&lt;tab&gt;</span></code> key–known as
tab completion–to show the available operations and methods available for an <code class="docutils literal notranslate"><span class="pre">Int</span></code>.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="o">&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</span><span id="line-2"><span class="o">%</span><span class="w">              </span><span class="n">&amp;</span><span class="w">              </span><span class="o">*</span><span class="w">              </span><span class="o">+</span><span class="w">              </span><span class="o">-</span>
</span><span id="line-3"><span class="o">/</span><span class="w">              </span><span class="o">&gt;</span><span class="w">              </span><span class="o">&gt;=</span><span class="w">             </span><span class="o">&gt;&gt;</span><span class="w">             </span><span class="o">&gt;&gt;&gt;</span>
</span><span id="line-4"><span class="n">^</span><span class="w">              </span><span class="k">asInstanceOf</span><span class="w">   </span><span class="k">isInstanceOf</span><span class="w">   </span><span class="n">toByte</span><span class="w">         </span><span class="n">toChar</span>
</span><span id="line-5"><span class="n">toDouble</span><span class="w">       </span><span class="n">toFloat</span><span class="w">        </span><span class="n">toInt</span><span class="w">          </span><span class="n">toLong</span><span class="w">         </span><span class="n">toShort</span>
</span><span id="line-6"><span class="n">toString</span><span class="w">       </span><span class="n">unary_+</span><span class="w">        </span><span class="n">unary_-</span><span class="w">        </span><span class="n">unary_^</span><span class="w">        </span><span class="o">|</span>
</span></code></pre></div>
</div>
</section>
<section id="literals-are-mostly-what-you-expect">
<h3>Literals are mostly what you expect<a class="headerlink" href="#literals-are-mostly-what-you-expect" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#literals-are-mostly-what-you-expect'">¶</a></h3>
<p>Integers</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">95</span>
</span><span id="line-2"><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">95</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">95</span>
</span><span id="line-5"><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">95</span>
</span></code></pre></div>
</div>
<p>Octal and Hexadecimal</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">039</span>
</span><span id="line-2"><span class="o">&lt;</span><span class="n">console</span><span class="o">&gt;:</span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="n">malformed</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="n">number</span>
</span><span id="line-3"><span class="w">       </span><span class="kd">val</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">039</span>
</span><span id="line-4"><span class="w">               </span><span class="n">^</span>
</span><span id="line-5">
</span><span id="line-6"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">037</span>
</span><span id="line-7"><span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">deprecation</span><span class="w"> </span><span class="n">warning</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="n">run</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="o">-</span><span class="n">deprecation</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details</span>
</span><span id="line-8"><span class="n">c</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">31</span>
</span><span id="line-9">
</span><span id="line-10"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0xff</span>
</span><span id="line-11"><span class="n">d</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">255</span>
</span><span id="line-12">
</span><span id="line-13"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0xffac</span>
</span><span id="line-14"><span class="n">d</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">65452</span>
</span></code></pre></div>
</div>
<p>Double and Float</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.34e-7</span>
</span><span id="line-2"><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.34E-7</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.34e-7f</span>
</span><span id="line-5"><span class="n">f</span><span class="p">:</span><span class="w"> </span><span class="nc">Float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.34E-7</span>
</span></code></pre></div>
</div>
</section>
<section id="statements-vs-expressions">
<h3>Statements vs. Expressions<a class="headerlink" href="#statements-vs-expressions" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#statements-vs-expressions'">¶</a></h3>
<p>Scala eschews statements as a general rule in favor of expressions (which produce values), owing to its functional heritage, which emphasizes the composition of functions to effect computation.</p>
<p>In practice, however, many expressions, however, behave like statements as they produce <code class="docutils literal notranslate"><span class="pre">Unit</span></code> as
a result.</p>
<p>A notable consequence of this language decision is that some constructs are not provided in
Scala, including the familiar break and continue (found in loops).</p>
</section>
<section id="everything-is-an-object">
<h3>Everything is an Object<a class="headerlink" href="#everything-is-an-object" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#everything-is-an-object'">¶</a></h3>
<p>Scala is not designed in a vacuum. Its heritage is one shared with Java, even if its ideas have value
above and beyond Java. Everything is achieved in Scala with <em>objects</em>, although you can do a tremendous amount of programming before ever writing a <em>class</em> per se.</p>
<p>There are two consequences to this decision:</p>
<ul class="simple">
<li><p>There are no primitive types per se. Every one of the literals discussed previously is an object.
This eliminates the need to distinguish <code class="docutils literal notranslate"><span class="pre">int</span></code> from <code class="docutils literal notranslate"><span class="pre">Integer</span></code> (a major pain point for Java prior
to boxing/unboxing support).</p></li>
<li><p>There are very few keywords in Scala. Even when you encounter something that you think is a keyword,
it is often just a method call. A really good example is the concept of mapping (map) from functional
programming, which is a method common to just about every Scala collection.</p></li>
</ul>
<p>Let’s look at a couple of examples of methods. Here is an example of how to see the methods available
to an <code class="docutils literal notranslate"><span class="pre">Int</span></code> instance:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="o">&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</span><span id="line-2"><span class="o">%</span><span class="w">              </span><span class="n">&amp;</span><span class="w">              </span><span class="o">*</span><span class="w">              </span><span class="o">+</span><span class="w">              </span><span class="o">-</span>
</span><span id="line-3"><span class="o">/</span><span class="w">              </span><span class="o">&gt;</span><span class="w">              </span><span class="o">&gt;=</span><span class="w">             </span><span class="o">&gt;&gt;</span><span class="w">             </span><span class="o">&gt;&gt;&gt;</span>
</span><span id="line-4"><span class="n">^</span><span class="w">              </span><span class="k">asInstanceOf</span><span class="w">   </span><span class="k">isInstanceOf</span><span class="w">   </span><span class="n">toByte</span><span class="w">         </span><span class="n">toChar</span>
</span><span id="line-5"><span class="n">toDouble</span><span class="w">       </span><span class="n">toFloat</span><span class="w">        </span><span class="n">toInt</span><span class="w">          </span><span class="n">toLong</span><span class="w">         </span><span class="n">toShort</span>
</span><span id="line-6"><span class="n">toString</span><span class="w">       </span><span class="n">unary_+</span><span class="w">        </span><span class="n">unary_-</span><span class="w">        </span><span class="n">unary_^</span><span class="w">        </span><span class="o">|</span>
</span></code></pre></div>
</div>
<p>Where you see <code class="docutils literal notranslate"><span class="pre">&lt;tab&gt;</span></code>, you can use a feature known as <em>tab completion</em> in the REPL to see the options
available to value <code class="docutils literal notranslate"><span class="pre">a</span></code>. You’ll notice one thing immediately, especially if you are familiar with Java:
operator overloading! That’s right, every operator is a method.</p>
<p>Let’s use the <code class="docutils literal notranslate"><span class="pre">+</span></code> method:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="o">+</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res5</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">98</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span>
</span><span id="line-5"><span class="n">res6</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">98</span>
</span></code></pre></div>
</div>
<p>Let’s convert an Int to a Float:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">toFloat</span>
</span><span id="line-2"><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nc">Float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">95.0</span>
</span></code></pre></div>
</div>
<p>You can also invoke methods like <code class="docutils literal notranslate"><span class="pre">toFloat</span></code> (which take no parameters) without using dots. We will
take advantage of this syntax as part of good Scala style (in many of our examples).</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">toFloat</span>
</span><span id="line-2"><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nc">Float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">95.0</span>
</span></code></pre></div>
</div>
<p>We’re going to look at more <em>advanced</em> objects later (Scala collections) but this should give you
a taste of what is possible.</p>
</section>
<section id="tuples">
<h3>Tuples<a class="headerlink" href="#tuples" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#tuples'">¶</a></h3>
<p>A language feature that was popularized (but not invented) by the Python language are tuples. Tuples
eliminate the need for unwanted uses of a class for grouping multiple values. Let’s take a quick
look.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
</span><span id="line-2"><span class="n">t</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span><span class="w"> </span><span class="mf">4.0</span><span class="p">)</span>
</span><span id="line-5"><span class="n">u</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">4.0</span><span class="p">)</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
</span><span id="line-8"><span class="n">v</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Notice that Scala infers the type of each one of these value definitions.</p>
<p>When working with a tuple, you’re really working with an object. You can inspect the methods that
are available using the tab completion method shown previously.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">t</span><span class="p">.</span>
</span><span id="line-2"><span class="n">_1</span><span class="w">                </span><span class="n">_2</span><span class="w">                </span><span class="k">asInstanceOf</span><span class="w">      </span><span class="n">canEqual</span>
</span><span id="line-3"><span class="n">copy</span><span class="w">              </span><span class="k">isInstanceOf</span><span class="w">      </span><span class="n">productArity</span><span class="w">      </span><span class="n">productElement</span>
</span><span id="line-4"><span class="n">productIterator</span><span class="w">   </span><span class="n">productPrefix</span><span class="w">     </span><span class="n">swap</span><span class="w">              </span><span class="n">toString</span>
</span><span id="line-5">
</span><span id="line-6"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">u</span><span class="p">.</span>
</span><span id="line-7"><span class="n">_1</span><span class="w">                </span><span class="n">_2</span><span class="w">                </span><span class="k">asInstanceOf</span><span class="w">      </span><span class="n">canEqual</span>
</span><span id="line-8"><span class="n">copy</span><span class="w">              </span><span class="k">isInstanceOf</span><span class="w">      </span><span class="n">productArity</span><span class="w">      </span><span class="n">productElement</span>
</span><span id="line-9"><span class="n">productIterator</span><span class="w">   </span><span class="n">productPrefix</span><span class="w">     </span><span class="n">swap</span><span class="w">              </span><span class="n">toString</span>
</span><span id="line-10">
</span><span id="line-11"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">.</span>
</span><span id="line-12"><span class="n">_1</span><span class="w">                </span><span class="n">_2</span><span class="w">                </span><span class="k">asInstanceOf</span><span class="w">      </span><span class="n">canEqual</span>
</span><span id="line-13"><span class="n">copy</span><span class="w">              </span><span class="k">isInstanceOf</span><span class="w">      </span><span class="n">productArity</span><span class="w">      </span><span class="n">productElement</span>
</span><span id="line-14"><span class="n">productIterator</span><span class="w">   </span><span class="n">productPrefix</span><span class="w">     </span><span class="n">swap</span><span class="w">              </span><span class="n">toString</span>
</span></code></pre></div>
</div>
<p>You can inspect the components of a tuple by using the <code class="docutils literal notranslate"><span class="pre">_1</span></code>, <code class="docutils literal notranslate"><span class="pre">_2</span></code>, … methods.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">_1</span>
</span><span id="line-2"><span class="n">res9</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">_2</span>
</span><span id="line-5"><span class="n">res10</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
</span></code></pre></div>
</div>
<p>You’ll obviously not want to use these names to refer to the components of a tuple. Using
pattern matching, you can extract the components of a tuple and <em>bind</em> them to proper names.
For example, if your tuple represents an (x, y) pair, you are likely to use a match expression
like this:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">s"(</span><span class="si">$</span><span class="n">x</span><span class="s">, </span><span class="si">$</span><span class="n">y</span><span class="s">)"</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-2"><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="semicolon-inferencing">
<h3>Semicolon Inferencing<a class="headerlink" href="#semicolon-inferencing" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#semicolon-inferencing'">¶</a></h3>
<p>Python programmers already know and love not having to deal with semicolons. Scala follows
this excellent practice as well.</p>
<p>You can do this:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>
</span><span id="line-2"><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
</span></code></pre></div>
</div>
<p>But this works just as well and is the preferred way to write Scala code:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
</span><span id="line-2"><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
</span></code></pre></div>
</div>
</section>
<section id="simple-input-and-output">
<h3>Simple Input (and Output)<a class="headerlink" href="#simple-input-and-output" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#simple-input-and-output'">¶</a></h3>
<p>Much like Python and Java, import can be used to experiment with library objects and functions, even
before you know how to create classes:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">tools</span><span class="p">.</span><span class="nn">jline</span><span class="p">.</span><span class="nn">console</span><span class="p">.</span><span class="nc">ConsoleReader</span>
</span><span id="line-2">
</span><span id="line-3"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">ConsoleReader</span>
</span><span id="line-4"><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">tools</span><span class="p">.</span><span class="n">jline</span><span class="p">.</span><span class="n">console</span><span class="p">.</span><span class="nc">ConsoleReader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">tools</span><span class="p">.</span><span class="n">jline</span><span class="p">.</span><span class="n">console</span><span class="p">.</span><span class="nc">ConsoleReader</span><span class="o">@</span><span class="mi">3</span><span class="n">ec642e5</span>
</span></code></pre></div>
</div>
<p>Then you can inspect the capabilities of the ConsoleReader by using tab completion (as shown before)</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="n">r</span><span class="o">&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</span><span id="line-2"><span class="n">readCharacter</span><span class="w">     </span><span class="n">readLine</span><span class="w">          </span><span class="n">readVirtualKey</span><span class="w">    </span><span class="n">redrawLine</span>
</span><span id="line-3"><span class="n">removeCompleter</span><span class="w">   </span><span class="n">replace</span><span class="w">           </span><span class="n">resetPromptLine</span><span class="w">   </span><span class="n">restoreLine</span>
</span></code></pre></div>
</div>
<p>Now we look up more details on the <code class="docutils literal notranslate"><span class="pre">readLine()</span></code> methods, which is what we
want to do basic, line-oriented input (a common need in introductory
teaching).</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="n">readLine</span><span class="o">&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</span><span id="line-2">
</span><span id="line-3"><span class="k">def</span><span class="w"> </span><span class="nf">readLine</span><span class="p">():</span><span class="w"> </span><span class="nc">String</span>
</span><span id="line-4"><span class="k">def</span><span class="w"> </span><span class="nf">readLine</span><span class="p">(</span><span class="nc">Character</span><span class="p">):</span><span class="w"> </span><span class="nc">String</span>
</span><span id="line-5"><span class="k">def</span><span class="w"> </span><span class="nf">readLine</span><span class="p">(</span><span class="nc">String</span><span class="p">):</span><span class="w"> </span><span class="nc">String</span>
</span><span id="line-6"><span class="k">def</span><span class="w"> </span><span class="nf">readLine</span><span class="p">(</span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="nc">Character</span><span class="p">):</span><span class="w"> </span><span class="nc">String</span>
</span><span id="line-7">
</span><span id="line-8"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="n">readLine</span><span class="p">(</span><span class="s">"Please enter some text: "</span><span class="p">)</span>
</span><span id="line-9"><span class="nc">Please</span><span class="w"> </span><span class="n">enter</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">text</span><span class="p">:</span><span class="w"> </span><span class="nc">Hello</span><span class="p">,</span><span class="w"> </span><span class="nc">World</span>
</span><span id="line-10"><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Hello</span><span class="p">,</span><span class="w"> </span><span class="nc">World</span>
</span></code></pre></div>
</div>
<p>You’ll probably find it necessary to read through the Scala documentation, but
in a number of cases, the behavior is similar to what you’ve seen in other
language APIs. <code class="docutils literal notranslate"><span class="pre">readLine()</span></code> is pretty well known in Java circles. As you can
see above, <code class="docutils literal notranslate"><span class="pre">readLine(String)</span></code> gives us what we want: the ability to read
input with a prompt of sorts.</p>
</section>
<section id="val-vs-var">
<h3>val vs. var<a class="headerlink" href="#val-vs-var" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#val-vs-var'">¶</a></h3>
<ul class="simple">
<li><p>Values (keyboard <code class="docutils literal notranslate"><span class="pre">val</span></code>) are used for immutable storage.</p></li>
<li><p>Variables (keyword <code class="docutils literal notranslate"><span class="pre">var</span></code>) are used for mutable storage.</p></li>
<li><p>You can think of this as the reemergence of <code class="docutils literal notranslate"><span class="pre">const</span></code> but it takes on a more powerful and predictable form in Scala than other languages that preceded it.</p></li>
<li><p>Scala thinking prefers val to var. So do we.</p></li>
<li><p>Interesting</p></li>
</ul>
</section>
<section id="scripts-and-worksheets">
<h3>Scripts and Worksheets<a class="headerlink" href="#scripts-and-worksheets" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#scripts-and-worksheets'">¶</a></h3>
<p>Similar to modern scripting languages (e.g. Python and Ruby) and the original shell, you can create a
Scala script in a file, e.g. <code class="docutils literal notranslate"><span class="pre">myscript.scala</span></code> and run the script using the <code class="docutils literal notranslate"><span class="pre">scala</span></code> command.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">$</span><span class="w"> </span><span class="n">scala</span><span class="w"> </span><span class="n">myscript</span><span class="p">.</span><span class="n">scala</span>
</span></code></pre></div>
</div>
<p>You can also <em>load</em> the script within the Scala REPL:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">$</span><span class="w"> </span><span class="n">scala</span>
</span><span id="line-2"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="n">load</span><span class="w"> </span><span class="n">myscript</span><span class="p">.</span><span class="n">scala</span>
</span></code></pre></div>
</div>
<p>We’ll be taking advantage of this a bit more in our discussion about <code class="docutils literal notranslate"><span class="pre">sbt</span></code>, the Scala Build Tool.</p>
</section>
<section id="conditional-and-functions">
<h3>Conditional and Functions<a class="headerlink" href="#conditional-and-functions" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#conditional-and-functions'">¶</a></h3>
<p>Functional → expressions</p>
<p>if expression</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span>
</span><span id="line-2"><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
</span><span id="line-5"><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">b</span>
</span><span id="line-8"><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
</span></code></pre></div>
</div>
<p>Contrast with:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-2"><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
</span><span id="line-5"><span class="w">     </span><span class="o">|</span><span class="w">   </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-8"><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span>
</span><span id="line-9"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-10"><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span>
</span><span id="line-11"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-12">
</span><span id="line-13"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">max</span>
</span><span id="line-14"><span class="n">res4</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
</span></code></pre></div>
</div>
<p>Note: Similar to other agile languages, you can enter compound statements and blocks of code in the REPL.
The <code class="docutils literal notranslate"><span class="pre">|</span></code> is a continuation character to indicate that more input is expected. It’s often best to use a
text editor once you start entering more complex fragments of code (especially more complicated than what
you see here).</p>
<p>Functions are front and center when it comes to Scala programming. Although object-functional, a pure function
can be written without the boilerplate associated with OOP. We’re proponents of OOP but prefer to introduce
functional thinking and <em>use</em> of objects prior to creating classes.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span>
</span><span id="line-2"><span class="n">square</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">Int</span>
</span><span id="line-3">
</span><span id="line-4">
</span><span id="line-5"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">square</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
</span><span id="line-6"><span class="n">res6</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">625</span>
</span><span id="line-7">
</span><span id="line-8"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">square</span><span class="p">(</span><span class="mf">25.0</span><span class="p">)</span>
</span><span id="line-9"><span class="o">&lt;</span><span class="n">console</span><span class="o">&gt;:</span><span class="mi">12</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="nc">mismatch</span><span class="p">;</span>
</span><span id="line-10"><span class="w"> </span><span class="n">found</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="p">(</span><span class="mf">25.0</span><span class="p">)</span>
</span><span id="line-11"><span class="w"> </span><span class="n">required</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span>
</span><span id="line-12"><span class="w">              </span><span class="n">square</span><span class="p">(</span><span class="mf">25.0</span><span class="p">)</span>
</span><span id="line-13"><span class="w">                     </span><span class="n">^</span>
</span></code></pre></div>
</div>
<p>As expected, the second invocation of <code class="docutils literal notranslate"><span class="pre">square()</span></code> results in an error. Scala performs static type checking
in real time. That is, this is <em>not</em> a run-time check.</p>
</section>
<section id="function-literals">
<h3>Function literals<a class="headerlink" href="#function-literals" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#function-literals'">¶</a></h3>
<p>Let’s build on the <code class="docutils literal notranslate"><span class="pre">square()</span></code> example to see how easy it is to generate the first <code class="docutils literal notranslate"><span class="pre">n</span></code> squares. We’ll use
this to show how you can use functions as parameters and to sensitize the use of Scala <em>function literals</em>,
which are used rather idiomatically in Scala programming.</p>
<p>We’ll start by generating the first 25 values using a Scala range.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
</span><span id="line-2"><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">first_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">n</span>
</span><span id="line-5"><span class="n">first_n</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Range</span><span class="p">.</span><span class="nc">Inclusive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>This shows how to map the <code class="docutils literal notranslate"><span class="pre">square()</span></code> function to the range of values.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">first_n</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res16</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="nc">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>This shows how to map a <em>function literal</em> to the range of values.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">first_n</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res17</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="nc">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>This shows how you can combine a function literal with a previously defined function:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">first_n</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">square</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</span><span id="line-2"><span class="n">res18</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="nc">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>You can avoid having to name arguments in function literals using the <code class="docutils literal notranslate"><span class="pre">_</span></code> parameter. This syntax is a
bit awkward to new programmers (and therefore should be introduced gently in CS1 courses) but allows
for concise (and sometimes clearer) expression, especially when used in a disciplined way.</p>
<p>Consider this code that creates the first n even numbers:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res26</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="nc">Vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>You might be tempted to try this by doing the following:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_</span><span class="p">)</span>
</span><span id="line-2"><span class="o">&lt;</span><span class="n">console</span><span class="o">&gt;:</span><span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="n">wrong</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">parameters</span><span class="p">;</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</span><span id="line-3"><span class="w">              </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Alas, it doesn’t work. Why? Because each occurrence of <code class="docutils literal notranslate"><span class="pre">_</span></code> corresponds to an expected parameter. In
this case, there would have to be pairs of values. Unfortunately, in the range 1 to 10, each value is an Int.</p>
<p>Default parameters and named parameters</p>
<p>Similar to other agile languages, Scala allows you to specify default parameter values. This is particularly
useful, especially when diving into object-oriented programming, but has uses even before then.</p>
<p>Consider this version of <code class="docutils literal notranslate"><span class="pre">square()</span></code>:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span>
</span><span id="line-2"><span class="n">square</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">Int</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">square</span><span class="p">()</span>
</span><span id="line-5"><span class="n">res28</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">square</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="line-8"><span class="n">res29</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span>
</span></code></pre></div>
</div>
<p>Here we are creating a version that has a default value of zero, if the caller doesn’t specify <code class="docutils literal notranslate"><span class="pre">x</span></code>. (This
is not necessarily intended to be pedagogically interesting but is effective, considering we spent most of
our time in this section looking at the <code class="docutils literal notranslate"><span class="pre">square()</span></code> function!)</p>
</section>
</section>
<section id="early-collection-arrays-and-lists">
<h2>Early Collection, Arrays and Lists<a class="headerlink" href="#early-collection-arrays-and-lists" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#early-collection-arrays-and-lists'">¶</a></h2>
<p>Scala has some very advanced and comprehensive collections libraries. For CS1
you can focus only on the simplest of these, beginning with Arrays and Lists.
In actually makes sense to introduce these before loops (and iteration in
general) in Scala for two reasons. First, the collections have many methods
that allow you to do standard tasks that would often go in loops. As such,
Scala code often doesn’t include all that many loops. Second, the for loop in
Scala is really a foreach type loop that works with collections so it makes
more sense to introduce it after the basic collections.</p>
<section id="making-arrays-and-lists">
<h3>Making Arrays and Lists<a class="headerlink" href="#making-arrays-and-lists" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#making-arrays-and-lists'">¶</a></h3>
<p>The simplest way to make an Array or a List is with the following syntax.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res0</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mf">1.3</span><span class="p">,</span><span class="mf">4.2</span><span class="p">,</span><span class="mf">3.14</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res1</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Double</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mf">1.3</span><span class="p">,</span><span class="w"> </span><span class="mf">4.2</span><span class="p">,</span><span class="w"> </span><span class="mf">3.14</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Note that the Array and List types take type parameters. These appear in
square brackets. It is standard across the Scala language that value arguments
appear in parentheses, type arguments appear in square brackets, and curly
braces are used to denote code blocks for complex expressions or statements.
Also note that as before, Scala’s type inference figures out the types for
these expressions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Technically these are making calls to the apply methods of the Array and
List companion objects. The details of how that works don’t really matter
in CS1, but you can find them in the section on object-orientation under
CS2. We cover this topic later in our discussion of classes and
objects.</p>
</div>
<p>You can also made longer arrays using the new syntax that one uses in Java.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">](</span><span class="mi">100</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res2</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="line-3"><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="line-4"><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="line-5"><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="line-6"><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Here we need to specify the type and say how big the Array is. Array objects in
Scala are implemented as Java arrays and they have the same general
properties. Like Java Arrays, they are mutable and they can’t dynamically
change their size. Note that this approach to making Arrays is not the one
typically used in Scala because if the type is something like String you get
the same behavior you have in Java and all the values are initialized to null.
Later in this section we will see the fill and tabulate methods, which are
much less likely to produce a NullPointerException and are generally favored
over this style of creating a large Array.</p>
<p>Lists can be built using the <code class="docutils literal notranslate"><span class="pre">::</span></code> operator. We read <code class="docutils literal notranslate"><span class="pre">::</span></code> as <code class="docutils literal notranslate"><span class="pre">cons</span></code>, following the
tradition of Scheme (Lisp and ML. <code class="docutils literal notranslate"><span class="pre">::</span></code> is a right associative operator so it takes a
value on the left and a List on the right. For example:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="n">::</span><span class="mi">2</span><span class="n">::</span><span class="mi">3</span><span class="n">::</span><span class="mi">4</span><span class="n">::</span><span class="nc">Nil</span>
</span><span id="line-2"><span class="n">res4</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Nil</span></code> object is a short name for an empty List. You can also use
<code class="docutils literal notranslate"><span class="pre">List()</span></code> (the empty list) in place of <code class="docutils literal notranslate"><span class="pre">Nil</span></code>. Note that the List type is a
singly-linked, <em>immutable</em> list. So prepending as shown above is an efficient
operation. Also note that you can’t change values without making a new List
because it is immutable.</p>
<p>This form of building a List with <code class="docutils literal notranslate"><span class="pre">::</span></code> is probably most beneficial with
recursive functions and works very well in situations where you don’t know how
many values you will be working with.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">readNumbers</span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="nc">Int</span><span class="p">):</span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="nc">Nil</span><span class="w"> </span><span class="k">else</span>
</span><span id="line-2"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">readInt</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">readNumbers</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-3"><span class="n">readNumbers</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span>
</span><span id="line-4">
</span><span id="line-5"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">readNumbers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="line-6"><span class="mi">1</span>
</span><span id="line-7"><span class="mi">2</span>
</span><span id="line-8"><span class="mi">3</span>
</span><span id="line-9"><span class="mi">4</span>
</span><span id="line-10"><span class="mi">5</span>
</span><span id="line-11"><span class="n">res6</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</span><span id="line-12">
</span><span id="line-13"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">readUntilQuit</span><span class="p">():</span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-14"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readLine</span>
</span><span id="line-15"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">data</span><span class="o">!=</span><span class="s">"quit"</span><span class="p">)</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">toInt</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">readUntilQuit</span><span class="p">()</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nc">Nil</span>
</span><span id="line-16"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-17"><span class="n">readUntilQuit</span><span class="p">:</span><span class="w"> </span><span class="p">()</span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span>
</span><span id="line-18">
</span><span id="line-19"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">readUntilQuit</span><span class="p">()</span>
</span><span id="line-20"><span class="mi">1</span>
</span><span id="line-21"><span class="mi">2</span>
</span><span id="line-22"><span class="mi">3</span>
</span><span id="line-23"><span class="mi">4</span>
</span><span id="line-24"><span class="mi">5</span>
</span><span id="line-25"><span class="n">quit</span>
</span><span id="line-26"><span class="n">res7</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="indexing-traversing-arrays-and-lists">
<h3>Indexing/Traversing Arrays and Lists<a class="headerlink" href="#indexing-traversing-arrays-and-lists" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#indexing-traversing-arrays-and-lists'">¶</a></h3>
<p>You can get to values in an Array or a List by indexing with parentheses.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-2"><span class="n">arr</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">lst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="sc">'g'</span><span class="p">,</span><span class="sc">'e'</span><span class="p">,</span><span class="sc">'o'</span><span class="p">,</span><span class="sc">'r'</span><span class="p">,</span><span class="sc">'g'</span><span class="p">,</span><span class="sc">'e'</span><span class="p">)</span>
</span><span id="line-5"><span class="n">lst</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Char</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">o</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-8"><span class="n">res1</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</span><span id="line-9">
</span><span id="line-10"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lst</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-11"><span class="n">res2</span><span class="p">:</span><span class="w"> </span><span class="nc">Char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">o</span>
</span></code></pre></div>
</div>
<p>The use of parentheses instead of square brackets keeps the syntax consistent.
(Having parentheses is the next best thing to square brackets as well. It is certainly
preferable to having an explicit method call as found in Java to access elements in
the array. We also note that the well-known math/science focused programming language,
FORTRAN, uses parentheses for subscripting!)</p>
<p>Neither the Array type, nor the List type have any special place in the Scala
syntax. They are both handled in the programming language just like any other
library code. The compiler does optimize Arrays to Java bytecode arrays, but
that is an implementation detail beyond the scope of our workshop.</p>
<p>You can also use the syntax you would expect to set the values of elements in
an Array. You can’t do this for Lists because they are immutable.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">99</span>
</span><span id="line-2">
</span><span id="line-3"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr</span>
</span><span id="line-4"><span class="n">res4</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>The common way to run through a List is using the head and tail methods. The
head method returns the first element of the List while tail returns the last
remaining after the first element. (Note that these can be called on an Array
as well, but tail will be very inefficient as it builds a new, shorter Array.)
The use of head and tail is particularly well suited for recursion.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">sumList</span><span class="p">(</span><span class="n">lst</span><span class="p">:</span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]):</span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">lst</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span>
</span><span id="line-2"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">lst</span><span class="p">.</span><span class="n">head</span><span class="o">+</span><span class="n">sumList</span><span class="p">(</span><span class="n">lst</span><span class="p">.</span><span class="n">tail</span><span class="p">)</span>
</span><span id="line-3"><span class="n">sumList</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">lst</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">])</span><span class="nc">Int</span>
</span><span id="line-4">
</span><span id="line-5"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sumList</span><span class="p">(</span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</span><span id="line-6"><span class="n">res5</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span>
</span></code></pre></div>
</div>
<p>This same function can be defined using a match and patterns in the following
way.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">sumList</span><span class="p">(</span><span class="n">lst</span><span class="p">:</span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]):</span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lst</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-2"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="nc">Nil</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-3"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">h::t</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sumList</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span><span id="line-4"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-5"><span class="n">sumList</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">lst</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">])</span><span class="nc">Int</span>
</span></code></pre></div>
</div>
</section>
<section id="standard-methods">
<h3>Standard Methods<a class="headerlink" href="#standard-methods" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#standard-methods'">¶</a></h3>
<p>The collection types in Scala have a large number of methods defined on them.
We won’t list them here. Instead, you can look in the <a class="reference internal" href="#scalaapi" id="id1"><span>[ScalaAPI]</span></a> for the
names and details. This is what you get when you use tab completion in the
REPL on a List.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lst</span><span class="p">.</span><span class="o">&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</span><span id="line-2"><span class="o">++</span><span class="w">                   </span><span class="o">++:</span><span class="w">                  </span><span class="o">+:</span>
</span><span id="line-3"><span class="o">/:</span><span class="w">                   </span><span class="o">/</span><span class="p">:</span><span class="o">\</span><span class="w">                  </span><span class="o">:+</span>
</span><span id="line-4"><span class="o">::</span><span class="w">                   </span><span class="o">:::</span><span class="w">                  </span><span class="p">:</span><span class="o">\</span>
</span><span id="line-5"><span class="n">addString</span><span class="w">            </span><span class="n">aggregate</span><span class="w">            </span><span class="n">andThen</span>
</span><span id="line-6"><span class="n">apply</span><span class="w">                </span><span class="n">applyOrElse</span><span class="w">          </span><span class="k">asInstanceOf</span>
</span><span id="line-7"><span class="n">canEqual</span><span class="w">             </span><span class="n">collect</span><span class="w">              </span><span class="n">collectFirst</span>
</span><span id="line-8"><span class="n">combinations</span><span class="w">         </span><span class="n">companion</span><span class="w">            </span><span class="n">compose</span>
</span><span id="line-9"><span class="n">contains</span><span class="w">             </span><span class="n">containsSlice</span><span class="w">        </span><span class="n">copyToArray</span>
</span><span id="line-10"><span class="n">copyToBuffer</span><span class="w">         </span><span class="n">corresponds</span><span class="w">          </span><span class="n">count</span>
</span><span id="line-11"><span class="n">diff</span><span class="w">                 </span><span class="n">distinct</span><span class="w">             </span><span class="n">drop</span>
</span><span id="line-12"><span class="n">dropRight</span><span class="w">            </span><span class="n">dropWhile</span><span class="w">            </span><span class="n">endsWith</span>
</span><span id="line-13"><span class="n">exists</span><span class="w">               </span><span class="n">filter</span><span class="w">               </span><span class="n">filterNot</span>
</span><span id="line-14"><span class="n">find</span><span class="w">                 </span><span class="n">flatMap</span><span class="w">              </span><span class="n">flatten</span>
</span><span id="line-15"><span class="n">fold</span><span class="w">                 </span><span class="n">foldLeft</span><span class="w">             </span><span class="n">foldRight</span>
</span><span id="line-16"><span class="n">forall</span><span class="w">               </span><span class="n">foreach</span><span class="w">              </span><span class="n">genericBuilder</span>
</span><span id="line-17"><span class="n">groupBy</span><span class="w">              </span><span class="n">grouped</span><span class="w">              </span><span class="n">hasDefiniteSize</span>
</span><span id="line-18"><span class="n">head</span><span class="w">                 </span><span class="n">headOption</span><span class="w">           </span><span class="n">indexOf</span>
</span><span id="line-19"><span class="n">indexOfSlice</span><span class="w">         </span><span class="n">indexWhere</span><span class="w">           </span><span class="n">indices</span>
</span><span id="line-20"><span class="n">init</span><span class="w">                 </span><span class="n">inits</span><span class="w">                </span><span class="n">intersect</span>
</span><span id="line-21"><span class="n">isDefinedAt</span><span class="w">          </span><span class="n">isEmpty</span><span class="w">              </span><span class="k">isInstanceOf</span>
</span><span id="line-22"><span class="n">isTraversableAgain</span><span class="w">   </span><span class="n">iterator</span><span class="w">             </span><span class="n">last</span>
</span><span id="line-23"><span class="n">lastIndexOf</span><span class="w">          </span><span class="n">lastIndexOfSlice</span><span class="w">     </span><span class="n">lastIndexWhere</span>
</span><span id="line-24"><span class="n">lastOption</span><span class="w">           </span><span class="n">length</span><span class="w">               </span><span class="n">lengthCompare</span>
</span><span id="line-25"><span class="n">lift</span><span class="w">                 </span><span class="n">map</span><span class="w">                  </span><span class="n">mapConserve</span>
</span><span id="line-26"><span class="n">max</span><span class="w">                  </span><span class="n">maxBy</span><span class="w">                </span><span class="n">min</span>
</span><span id="line-27"><span class="n">minBy</span><span class="w">                </span><span class="n">mkString</span><span class="w">             </span><span class="n">nonEmpty</span>
</span><span id="line-28"><span class="n">orElse</span><span class="w">               </span><span class="n">padTo</span><span class="w">                </span><span class="n">par</span>
</span><span id="line-29"><span class="n">partition</span><span class="w">            </span><span class="n">patch</span><span class="w">                </span><span class="n">permutations</span>
</span><span id="line-30"><span class="n">prefixLength</span><span class="w">         </span><span class="n">product</span><span class="w">              </span><span class="n">productArity</span>
</span><span id="line-31"><span class="n">productElement</span><span class="w">       </span><span class="n">productIterator</span><span class="w">      </span><span class="n">productPrefix</span>
</span><span id="line-32"><span class="n">reduce</span><span class="w">               </span><span class="n">reduceLeft</span><span class="w">           </span><span class="n">reduceLeftOption</span>
</span><span id="line-33"><span class="n">reduceOption</span><span class="w">         </span><span class="n">reduceRight</span><span class="w">          </span><span class="n">reduceRightOption</span>
</span><span id="line-34"><span class="n">removeDuplicates</span><span class="w">     </span><span class="n">repr</span><span class="w">                 </span><span class="n">reverse</span>
</span><span id="line-35"><span class="n">reverseIterator</span><span class="w">      </span><span class="n">reverseMap</span><span class="w">           </span><span class="n">reverse_:::</span>
</span><span id="line-36"><span class="n">runWith</span><span class="w">              </span><span class="n">sameElements</span><span class="w">         </span><span class="n">scan</span>
</span><span id="line-37"><span class="n">scanLeft</span><span class="w">             </span><span class="n">scanRight</span><span class="w">            </span><span class="n">segmentLength</span>
</span><span id="line-38"><span class="n">seq</span><span class="w">                  </span><span class="n">size</span><span class="w">                 </span><span class="n">slice</span>
</span><span id="line-39"><span class="n">sliding</span><span class="w">              </span><span class="n">sortBy</span><span class="w">               </span><span class="n">sortWith</span>
</span><span id="line-40"><span class="n">sorted</span><span class="w">               </span><span class="n">span</span><span class="w">                 </span><span class="n">splitAt</span>
</span><span id="line-41"><span class="n">startsWith</span><span class="w">           </span><span class="n">stringPrefix</span><span class="w">         </span><span class="n">sum</span>
</span><span id="line-42"><span class="n">tail</span><span class="w">                 </span><span class="n">tails</span><span class="w">                </span><span class="n">take</span>
</span><span id="line-43"><span class="n">takeRight</span><span class="w">            </span><span class="n">takeWhile</span><span class="w">            </span><span class="n">to</span>
</span><span id="line-44"><span class="n">toArray</span><span class="w">              </span><span class="n">toBuffer</span><span class="w">             </span><span class="n">toIndexedSeq</span>
</span><span id="line-45"><span class="n">toIterable</span><span class="w">           </span><span class="n">toIterator</span><span class="w">           </span><span class="n">toList</span>
</span><span id="line-46"><span class="n">toMap</span><span class="w">                </span><span class="n">toSeq</span><span class="w">                </span><span class="n">toSet</span>
</span><span id="line-47"><span class="n">toStream</span><span class="w">             </span><span class="n">toString</span><span class="w">             </span><span class="n">toTraversable</span>
</span><span id="line-48"><span class="n">toVector</span><span class="w">             </span><span class="n">transpose</span><span class="w">            </span><span class="n">union</span>
</span><span id="line-49"><span class="n">unzip</span><span class="w">                </span><span class="n">unzip3</span><span class="w">               </span><span class="n">updated</span>
</span><span id="line-50"><span class="n">view</span><span class="w">                 </span><span class="n">withFilter</span><span class="w">           </span><span class="n">zip</span>
</span><span id="line-51"><span class="n">zipAll</span><span class="w">               </span><span class="n">zipWithIndex</span>
</span></code></pre></div>
</div>
<p>You might notice that there is a sum method, so the listSum written above is
something you never need to write. There are also methods for converting
between types such at toList and toArray.</p>
</section>
<section id="higher-order-methods">
<h3>Higher Order Methods<a class="headerlink" href="#higher-order-methods" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#higher-order-methods'">¶</a></h3>
<p>Some of the methods in that list are worth describing instead of leaving it to
the reader to explore the API. In particular, the most commonly used higher-
order methods, like <code class="docutils literal notranslate"><span class="pre">map</span></code> and <code class="docutils literal notranslate"><span class="pre">filter</span></code>, are used to a significant extent in Scala
programming. The <code class="docutils literal notranslate"><span class="pre">foreach</span></code> method is also helpful in a number of situations.</p>
<p>Higher-order methods are methods that take or return functions. In this
situation, we are considering methods that take a function as an argument. The
<code class="docutils literal notranslate"><span class="pre">filter</span></code> method, for example, takes a function that takes one argument of the
type of the collection and returns a Boolean. That function is called on every
element of the collection. A new collection is produced that contains only the
elements for which the function returned true. To see how this is used,
consider the following code where we filter a List of Ints in two different
ways.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">lst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
</span><span id="line-2"><span class="n">lst</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lst</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res8</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lst</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="line-8"><span class="n">res9</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Both examples use the shorthand underscore syntax for writing the lambda
expressions/function literals. They could have been written using the longer
syntax as <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">=&gt;</span> <span class="pre">n&lt;6</span></code> and <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">=&gt;</span> <span class="pre">n%2</span> <span class="pre">==</span> <span class="pre">0</span></code> respectively.</p>
<p>Another higher-order method that is used extensively is the <code class="docutils literal notranslate"><span class="pre">map</span></code> method
(one of our favorites). The argument passed into <code class="docutils literal notranslate"><span class="pre">map</span></code> is a function that takes
the type of the collection and returns something. The return type could be the
same as the input type, but it could be different. The map method returns a
new collection of the return type of the function. A first example will use
the list of integers from above and make a collection that contains values
that are twice the original values.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lst</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">_*</span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res10</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>To show that the types can be different, this second example shows mapping
Strings to their length.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">words</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"This is a sentence with words"</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
</span><span id="line-2"><span class="n">words</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">String</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="nc">This</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">sentence</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="p">,</span><span class="w"> </span><span class="n">words</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">words</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">_</span><span class="p">.</span><span class="n">length</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res0</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">foreach</span></code> method takes a function and simply executes the function on all
the elements of the collection. While map and filter return new collections,
<code class="docutils literal notranslate"><span class="pre">foreach</span></code> is used for its side effects and returns <code class="docutils literal notranslate"><span class="pre">Unit</span></code>.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">words</span><span class="p">.</span><span class="n">foreach</span><span class="p">(</span><span class="n">println</span><span class="p">)</span>
</span><span id="line-2"><span class="nc">This</span>
</span><span id="line-3"><span class="n">is</span>
</span><span id="line-4"><span class="n">a</span>
</span><span id="line-5"><span class="n">sentence</span>
</span><span id="line-6"><span class="k">with</span>
</span><span id="line-7"><span class="n">words</span>
</span></code></pre></div>
</div>
<p>There are other higher-order methods that are very accessible for CS1 students
such as <code class="docutils literal notranslate"><span class="pre">count</span></code>, <code class="docutils literal notranslate"><span class="pre">exists</span></code>, and <code class="docutils literal notranslate"><span class="pre">forall</span></code>, all of which take predicate functions on a
single argument. There are more complex methods like the <code class="docutils literal notranslate"><span class="pre">reduce</span></code> methods and
<code class="docutils literal notranslate"><span class="pre">fold</span></code> methods that can be very helpful, but which are more challenging for CS1
students to understand. We use these occasionally in this workshop but recommmend
that they be used sparingly and with an emphasis on clarity (as opposed to conciseness).</p>
</section>
<section id="currying-and-by-name-arguments">
<h3>Currying and By-Name Arguments<a class="headerlink" href="#currying-and-by-name-arguments" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#currying-and-by-name-arguments'">¶</a></h3>
<p>The best ways to create large Arrays and Lists in Scala are with the <code class="docutils literal notranslate"><span class="pre">fill</span></code> and
<code class="docutils literal notranslate"><span class="pre">tabulate</span></code> methods. These use some syntax that needs to be introduced. The first
element of new syntax is that these methods are <em>curried</em>. This means that the
arguments are broken across multiple argument lists. So instead of having
<code class="docutils literal notranslate"><span class="pre">f(x,y)</span></code> you would have <code class="docutils literal notranslate"><span class="pre">f(x)(y)</span></code>. This is a common feature of functional
programming languages and it is done to allow functions to be partially
applied. (A partial application means that you apply the function to a subset
of the arguments, which results in a new function of the remaining arguments.)
The syntax for defining a curried function in Scala is fairly
straightforward.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">currySum</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="nc">Int</span><span class="p">)(</span><span class="n">y</span><span class="p">:</span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">+</span><span class="n">y</span>
</span><span id="line-2"><span class="n">currySum</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)(</span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">Int</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">currySum</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res2</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">plus3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currySum</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="n">_</span>
</span><span id="line-8"><span class="n">plus3</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="n">function1</span><span class="o">&gt;</span>
</span><span id="line-9">
</span><span id="line-10"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">plus3</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="line-11"><span class="n">res3</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
</span></code></pre></div>
</div>
<p>The need for the underscore in the partially applied call removes ambiguity in
the Scala syntax. Often functions are curried in Scala to help with type
inference or to simplify the syntax for calling them.</p>
<p>The second new element of the syntax is pass-by-name arguments. By default,
variables in Scala are passed in a manner similar to Java. The variables are
references and the references are passed by-value. With pass-by-name
semantics, the code is passed more like a function instead of by-value.
Instead of being evaluated at the call point, the code is wrapped in a “thunk”
(a term that originated with Algol 60). Every time the variable is used,  the
code is executed. We specify that a parameter is pass-by-name using a rocket
with no arguments.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">multiplyThrice</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Double</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">x</span>
</span><span id="line-2"><span class="n">multiplyThrice</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Double</span><span class="p">)</span><span class="nc">Double</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
</span><span id="line-5"><span class="n">i</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">multiplyThrice</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span id="line-8"><span class="n">res5</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">125.0</span>
</span><span id="line-9">
</span><span id="line-10"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">multiplyThrice</span><span class="p">({</span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="p">})</span>
</span><span id="line-11"><span class="n">res6</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">336.0</span>
</span></code></pre></div>
</div>
<p>The first invocation of <code class="docutils literal notranslate"><span class="pre">multiplyThrice</span></code> does what one would expect, even though
the argument is passed by-name.</p>
<p>We use call-by-name for timing blocks of code in the Monte Carlo Pi example later
in this section. See <a class="reference internal" href="#montecarlopi"><span class="std std-ref">Monte Carlo \pi Calculation</span></a>.</p>
</section>
<section id="fill-and-tabulate">
<h3>Fill and Tabulate<a class="headerlink" href="#fill-and-tabulate" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#fill-and-tabulate'">¶</a></h3>
<p>The fill method, which is defined on the Array object, is…</p>
</section>
</section>
<section id="recursion-for-iteration">
<h2>Recursion for Iteration<a class="headerlink" href="#recursion-for-iteration" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#recursion-for-iteration'">¶</a></h2>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-2"><span class="n">sum</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">Int</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res0</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-8"><span class="n">res1</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</span><span id="line-9">
</span><span id="line-10"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-11"><span class="n">res2</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
</span><span id="line-12">
</span><span id="line-13"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-14"><span class="n">res3</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span>
</span><span id="line-15">
</span><span id="line-16"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="line-17"><span class="n">res4</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5050</span>
</span></code></pre></div>
</div>
<p>Recursion does take awhile to master, but much of the trouble students have with it in practice
is a consequence of side-effect-full thinking. Nevertheless, you can replace this with a more
imperative (von Neumann) style. See our loops section.</p>
</section>
<section id="some-cs1-friendly-examples">
<h2>Some CS1 Friendly Examples<a class="headerlink" href="#some-cs1-friendly-examples" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#some-cs1-friendly-examples'">¶</a></h2>
<section id="gcd">
<h3>GCD<a class="headerlink" href="#gcd" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#gcd'">¶</a></h3>
<p>This is based on a classic algorithm by Euclid and one that is covered in many introductory computer science
courses. (See <a class="reference internal" href="#id5" id="id2"><span>[GCD]</span></a> for a more detailed discussion of this method and the ways it has been coded over the
years, especially in imperative programming languages.)</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="k">def</span><span class="w"> </span><span class="nf">gcd</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">gcd</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>The Scala version looks a lot like Euclid’s definition!</p>
</section>
<section id="factorial">
<h3>Factorial<a class="headerlink" href="#factorial" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#factorial'">¶</a></h3>
<p>This is the basic example that comes from <a class="reference internal" href="#miscexplorationsscala" id="id3"><span>[MiscExplorationsScala]</span></a>,
which also show show to use Scala and functional programming to rework explicitly recursive computations into
non-recursive versions using higher-order functional thinking.</p>
<p>This shows how to explicitly define the <code class="docutils literal notranslate"><span class="pre">fac(n</span> <span class="pre">:</span> <span class="pre">Int)</span> <span class="pre">:</span> <span class="pre">Int</span></code> function.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="k">def</span><span class="w"> </span><span class="nf">fac</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>This shows how to define a function <em>object</em>. It makes use of the literal syntax we introduced earlier,
You read this as “fac is a function that maps Int into Int and binds the name <code class="docutils literal notranslate"><span class="pre">n</span></code> to the <code class="docutils literal notranslate"><span class="pre">Int</span></code> parameter.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kd">val</span><span class="w"> </span><span class="n">fac</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>In many cases, you can write these functions without explcit recursion, simply by taking advantage of Scala’s
innate collections:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="k">def</span><span class="w"> </span><span class="nf">fac</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">n</span><span class="p">).</span><span class="n">foldLeft</span><span class="p">(</span><span class="mi">1</span><span class="p">)((</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Or even more concisely (and cryptically?)</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="k">def</span><span class="w"> </span><span class="nf">fac</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">n</span><span class="p">).</span><span class="n">foldLeft</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">_</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>We’ll look more at higher-order thinking shortly. Many who think of functional programming (especially the 1960’s
and 1970’s style) tend to think Lisp, which very much required you to think <em>recursively</em> most of the time in
practice. Today, the recursive element is still there, but you’ll find that the need to use it explicitly is
not required and can be replaced with higher-order abstractions. In the end, students still need to know about
this technique, if only to understand that certain methods (e.g. folds) often have a recursive nature to them.</p>
<p>In addition to rather outdated notions many tend to have about functional programming when it comes to recursion,
the optimization of recursive calls is achieved through a version of tail-recursion elimination (a.k.a. tail call
optimization). See <a class="reference internal" href="#tailcalls" id="id4"><span>[TailCalls]</span></a> for more information.</p>
</section>
<section id="monte-carlo-pi-calculation">
<span id="montecarlopi"></span><h3>Monte Carlo <span class="math notranslate nohighlight">\(\pi\)</span> Calculation<a class="headerlink" href="#monte-carlo-pi-calculation" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#monte-carlo-pi-calculation'">¶</a></h3>
<p>An example that often resonates well with students is the Monte Carlo method,
which uses randomness to perform the <span class="math notranslate nohighlight">\(\pi\)</span> computation. In the interests
of showing how Scala’s approach to functional programming follows the textual
description, we will write the steps and show the code (in Scala) to perform
each step in an integrated fashion.</p>
<p>In the Monte Carlo method for calculating <span class="math notranslate nohighlight">\(\pi\)</span>, we will randomly
generate a given number of darts using a Scala stream. We <em>fire</em> the darts
into a unit circle, which is bounded by a square, whose dimensions are
<span class="math notranslate nohighlight">\(2 \times 2\)</span> units.  The darts that fall within the unit circle satisfy the
constraint <span class="math notranslate nohighlight">\(x^2 + y^2 \leq 1\)</span>.</p>
<p>Let’s start by establishing the needed functions. First, here is the now-
familiar <code class="docutils literal notranslate"><span class="pre">square(x:Double)</span></code> function, again for reference.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="k">def</span><span class="w"> </span><span class="nf">sqr</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span>
</span></code></pre></div>
</div>
<p>We use this function to create another function, which tests whether a given
dart, specified as an (x, y) coordinate pair (a Scala tuple), falls within the
unit circle:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kd">val</span><span class="w"> </span><span class="n">inCircle</span><span class="p">:</span><span class="w"> </span><span class="p">((</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">))</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">sqr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sqr</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
</div>
<p>Let’s to a quick sanity check here:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inCircle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span>
</span><span id="line-2"><span class="n">res1</span><span class="p">:</span><span class="w"> </span><span class="nc">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inCircle</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
</span><span id="line-5"><span class="n">res2</span><span class="p">:</span><span class="w"> </span><span class="nc">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inCircle</span><span class="p">((</span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">))</span>
</span><span id="line-8"><span class="n">res3</span><span class="p">:</span><span class="w"> </span><span class="nc">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="line-9">
</span><span id="line-10"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inCircle</span><span class="p">((</span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.7</span><span class="p">))</span>
</span><span id="line-11"><span class="n">res4</span><span class="p">:</span><span class="w"> </span><span class="nc">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="line-12">
</span><span id="line-13"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inCircle</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</span><span id="line-14"><span class="n">res5</span><span class="p">:</span><span class="w"> </span><span class="nc">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span></code></pre></div>
</div>
<p>So how do we generate a set of darts and test whether they fall within the
circle? We start by using a Scala Stream (more on this in collections).</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">randomPairs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Stream</span><span class="w"> </span><span class="n">continually</span><span class="w"> </span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">random</span><span class="p">,</span><span class="w"> </span><span class="n">math</span><span class="p">.</span><span class="n">random</span><span class="p">)</span>
</span><span id="line-2"><span class="n">randomPairs</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Stream</span><span class="p">[(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="nc">Stream</span><span class="p">((</span><span class="mf">0.45422625790687077</span><span class="p">,</span><span class="mf">0.1916739269602844</span><span class="p">),</span><span class="w"> </span><span class="o">?</span><span class="p">)</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The examples we are showing here, much like typical introductory examples, trade good
pedagogy (not bogging down students with too many details) for performance and scalability.
If you need to operate on a larger number of darts, you’ll want to take advantage of <code class="docutils literal notranslate"><span class="pre">StreamIterator</span></code>, not <code class="docutils literal notranslate"><span class="pre">Stream</span></code>. A StreamIterator can be obtained from a Stream by reworking the code above as
follows:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">randomPairs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Stream</span><span class="w"> </span><span class="n">continually</span><span class="w"> </span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">random</span><span class="p">,</span><span class="w"> </span><span class="n">math</span><span class="p">.</span><span class="n">random</span><span class="p">)</span><span class="w"> </span><span class="n">iterator</span>
</span><span id="line-2"><span class="n">randomPairs</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Stream</span><span class="p">[(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="nc">Stream</span><span class="p">((</span><span class="mf">0.45422625790687077</span><span class="p">,</span><span class="mf">0.1916739269602844</span><span class="p">),</span><span class="w"> </span><span class="o">?</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Notice that the <code class="docutils literal notranslate"><span class="pre">iterator()</span></code> method is being invoked. This can be taught after students have learned
more about Scala collections.</p>
</div>
<p>What you see here is the first item of the stream being displayed. The “?”
indicates that there are more values (an infinite number, in theory) which
will be obtained on demand. This principle is an advanced one but one that is
teachable and can be understood in greater detail later.</p>
<p>So how do we get a finite number of darts? This is where a number of famous
methods from functional programming come to play. One is known as <code class="docutils literal notranslate"><span class="pre">take(n)</span></code>,
which can take however many we want. Let’s use this to show how to print the
first 5 random coordinate pairs.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">randomPairs</span><span class="p">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res7</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Stream</span><span class="p">[(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="nc">Stream</span><span class="p">((</span><span class="mf">0.45422625790687077</span><span class="p">,</span><span class="mf">0.1916739269602844</span><span class="p">),</span><span class="w"> </span><span class="o">?</span><span class="p">)</span>
</span><span id="line-4">
</span><span id="line-5"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">randomPairs</span><span class="p">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">).</span><span class="n">foreach</span><span class="p">(</span><span class="n">println</span><span class="p">)</span>
</span><span id="line-6"><span class="p">(</span><span class="mf">0.45422625790687077</span><span class="p">,</span><span class="mf">0.1916739269602844</span><span class="p">)</span>
</span><span id="line-7"><span class="p">(</span><span class="mf">0.9252028282996272</span><span class="p">,</span><span class="mf">0.5638265909110913</span><span class="p">)</span>
</span><span id="line-8"><span class="p">(</span><span class="mf">0.5588908846857542</span><span class="p">,</span><span class="mf">0.21516929857230815</span><span class="p">)</span>
</span><span id="line-9"><span class="p">(</span><span class="mf">0.5842149396390998</span><span class="p">,</span><span class="mf">0.7226255374753748</span><span class="p">)</span>
</span><span id="line-10"><span class="p">(</span><span class="mf">0.8454163994561401</span><span class="p">,</span><span class="mf">0.6805038035803781</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>So what is going on here? We’re taking the first 5 coordinate pairs in the
stream and applying the <code class="docutils literal notranslate"><span class="pre">println()</span></code> function to each item in the stream
(that is, each coordinate pair). While there are some aspects of this that are
advanced, there are some aspects that are <em>vastly simpler</em> than their
equivalent in tradition imperative object-oriented languages (e.g. C++, Java,
C#). For example, we rely on the notion of a tuple (a pair of Double values),
which usually requires the premature exploration of a Pair class in other
languages. Before long, you need to learn a lot of arcane type theory to
understand Pair, whereas in Scala, the type information is <em>inferred</em>.</p>
<p>Looking more closely:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">random</span><span class="p">,</span><span class="w"> </span><span class="n">math</span><span class="p">.</span><span class="n">random</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res10</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">0.20679803333001656</span><span class="p">,</span><span class="mf">0.91233235776938</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>This generates a random pair, and it even <em>looks</em> like a random pair from mathematics. Of course, it’s also type-safe!</p>
<p>So we’re now near the point where we can put all of the pieces together. We have a function to determine whether a randomly generated coordinate pair falls within the unit circle. Let’s compute <span class="math notranslate nohighlight">\(\pi\)</span>.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000000</span>
</span><span id="line-2"><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000000</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">darts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">randomPairs</span><span class="p">.</span><span class="n">take</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</span><span id="line-5"><span class="n">darts</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Stream</span><span class="p">[(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-6"><span class="w">   </span><span class="nc">Stream</span><span class="p">((</span><span class="mf">0.45422625790687077</span><span class="p">,</span><span class="mf">0.1916739269602844</span><span class="p">),</span><span class="w"> </span><span class="o">?</span><span class="p">)</span>
</span><span id="line-7">
</span><span id="line-8"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">dartsInCircle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">darts</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">inCircle</span><span class="p">)</span>
</span><span id="line-9"><span class="n">dartsInCircle</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">784894</span>
</span><span id="line-10">
</span><span id="line-11"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">totalDarts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">darts</span><span class="p">.</span><span class="n">length</span>
</span><span id="line-12"><span class="n">totalDarts</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000000</span>
</span><span id="line-13">
</span><span id="line-14"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">4.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dartsInCircle</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">totalDarts</span>
</span><span id="line-15"><span class="n">area</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.139576</span>
</span></code></pre></div>
</div>
<p>This is a good time to introduce the <em>dot-less</em> syntax, which is often associated with object-oriented programming but actually precedes these languages (C <em>struct</em> et al).</p>
<p>You can also write the above code (where you see dots) as follows:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">darts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">randomPairs</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">n</span>
</span><span id="line-2"><span class="n">darts</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Stream</span><span class="p">[(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="nc">Stream</span><span class="p">((</span><span class="mf">0.45422625790687077</span><span class="p">,</span><span class="mf">0.1916739269602844</span><span class="p">),</span><span class="w"> </span><span class="o">?</span><span class="p">)</span>
</span><span id="line-4">
</span><span id="line-5"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">dartsInCircle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">darts</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="n">inCircle</span>
</span><span id="line-6"><span class="n">dartsInCircle</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">784894</span>
</span><span id="line-7">
</span><span id="line-8"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">totalDarts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">darts</span><span class="w"> </span><span class="n">length</span>
</span><span id="line-9"><span class="n">totalDarts</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000000</span>
</span><span id="line-10">
</span><span id="line-11"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">4.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dartsInCircle</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">totalDarts</span>
</span><span id="line-12"><span class="n">area</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.139576</span>
</span></code></pre></div>
</div>
<p>At some point, you realize that you want to enter the code into a text editor that can be loaded into
the Scala interpreter (as opposed to being entered interactively).</p>
<p>The actual code for this can be found at
<a class="reference external" href="https://bitbucket.org/loyolachicagocs_plsystems/numerical-explorations-scala">https://bitbucket.org/loyolachicagocs_plsystems/numerical-explorations-scala</a>. You can
pull up the Scala worksheet from <code class="docutils literal notranslate"><span class="pre">MonteCarloPiStreamIteratorChunkFree.sc</span></code> (by drilling into Source).</p>
<p>Here’s the final version of our function to calculate <span class="math notranslate nohighlight">\(\pi\)</span>.</p>
<p>We also provide a simple <em>timing</em> function, that allows us to time a <em>block</em>
of Scala statements. We’ll not present it in detail now, but this function
could be given to your students with the hope of  sensitizing them to the
notion of <em>performance</em>. It also shows the tremendous power available in Scala
to work with a block of Scala code as an object (which can produce a value).</p>
<p>We’re going to use this to show how to measure the execution time of our
<span class="math notranslate nohighlight">\(\pi\)</span> calculation by  varying the problem size. Here is the fragment of
code that tries different problem sizes up to  <span class="math notranslate nohighlight">\(n = 10^k\)</span>, where
<span class="math notranslate nohighlight">\(k = \lfloor log_{10}(Int.MaxValue) \rfloor\)</span> (<span class="math notranslate nohighlight">\(k = \lfloor
log_{10}(2147483647) \rfloor = 9\)</span>)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You might wonder why we are limited to <code class="docutils literal notranslate"><span class="pre">Int</span></code> in this version as opposed
to a 64-bit <code class="docutils literal notranslate"><span class="pre">Int</span></code>. It is a perfectly valid idea to ponder, especially in
the modern era. Scala collections do not support operations like <code class="docutils literal notranslate"><span class="pre">take()</span></code>
and <code class="docutils literal notranslate"><span class="pre">drop()</span></code> with 64-bit Int values. The  explanation for this is a bit
beyond the scope here, but we have worked out 64-bit versions where we
perform the Monte Carlo <span class="math notranslate nohighlight">\(\pi\)</span> calculation in chunks. You can visit our
repository for these versions, which are a bit complex compared to the Int
version. We hope future versions of Scala will evolve beyond 32-bit
thinking but don’t see this as a show stopper for  introductory teaching.
(We also hope the friendly competition between F# and Scala, where F#
supports Int64, will eventually make its way to Scala.</p>
</div>
<p>Here is the output (some output has been deleted for conciseness).</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="n">load</span><span class="w"> </span><span class="nc">MonteCarloPiStreamIteratorChunkFree</span><span class="p">.</span><span class="n">sc</span>
</span><span id="line-2"><span class="nc">Loading</span><span class="w"> </span><span class="nc">MonteCarloPiStreamIteratorChunkFree</span><span class="p">.</span><span class="n">sc</span><span class="p">...</span>
</span><span id="line-3"><span class="n">sqr</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="p">)</span><span class="nc">Double</span>
</span><span id="line-4"><span class="n">inCircle</span><span class="p">:</span><span class="w"> </span><span class="p">((</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">))</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="n">function1</span><span class="o">&gt;</span>
</span><span id="line-5"><span class="n">randomPairs</span><span class="p">:</span><span class="w"> </span><span class="nc">Iterator</span><span class="p">[(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">empty</span><span class="w"> </span><span class="n">iterator</span>
</span><span id="line-6"><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000000</span>
</span><span id="line-7"><span class="n">darts</span><span class="p">:</span><span class="w"> </span><span class="nc">Iterator</span><span class="p">[(</span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">empty</span><span class="w"> </span><span class="n">iterator</span>
</span><span id="line-8"><span class="n">dartsInCircle</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">785719</span>
</span><span id="line-9"><span class="n">totalDarts</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-10"><span class="n">area</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Infinity</span>
</span><span id="line-11"><span class="n">longDartsInCircle</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">numDarts</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">Long</span>
</span><span id="line-12"><span class="n">monteCarloCircleArea</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">numDarts</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">Double</span>
</span><span id="line-13"><span class="n">time</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="nc">R</span><span class="p">](</span><span class="n">block</span><span class="p">:</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">R</span><span class="p">)</span><span class="nc">R</span>
</span><span id="line-14"><span class="n">powers</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Range</span><span class="p">.</span><span class="nc">Inclusive</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-15"><span class="w">   </span><span class="nc">Range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span>
</span><span id="line-16"><span class="n">sizes</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-17"><span class="w">   </span><span class="nc">Vector</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000000000</span><span class="p">)</span>
</span><span id="line-18"><span class="n">problemSizes</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-19"><span class="w">   </span><span class="nc">Vector</span><span class="p">(</span><span class="mi">1000000</span><span class="p">,</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000000000</span><span class="p">)</span>
</span><span id="line-20"><span class="nc">Trying</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">probem</span><span class="w"> </span><span class="n">sizes</span>
</span><span id="line-21"><span class="mi">1000000</span>
</span><span id="line-22"><span class="mi">10000000</span>
</span><span id="line-23"><span class="mi">100000000</span>
</span><span id="line-24"><span class="mi">1000000000</span>
</span><span id="line-25"><span class="n">numDarts</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span>
</span><span id="line-26"><span class="nc">Elapsed</span><span class="w"> </span><span class="n">time</span><span class="p">:</span><span class="w"> </span><span class="mf">0.149393</span><span class="n">s</span>
</span><span id="line-27"><span class="nc">The</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">3.141644</span>
</span><span id="line-28"><span class="n">numDarts</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span>
</span><span id="line-29"><span class="nc">Elapsed</span><span class="w"> </span><span class="n">time</span><span class="p">:</span><span class="w"> </span><span class="mf">1.110151</span><span class="n">s</span>
</span><span id="line-30"><span class="nc">The</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">3.1406688</span>
</span><span id="line-31"><span class="n">numDarts</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span>
</span><span id="line-32"><span class="nc">Elapsed</span><span class="w"> </span><span class="n">time</span><span class="p">:</span><span class="w"> </span><span class="mf">10.744608</span><span class="n">s</span>
</span><span id="line-33"><span class="nc">The</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">3.141555</span>
</span><span id="line-34"><span class="n">numDarts</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000000</span>
</span></code></pre></div>
</div>
<p>We will discuss performance and timing issues again when speaking to parallel computing in
<span class="xref std std-doc">parallel</span>.</p>
</section>
</section>
<section id="more-scala">
<h2>More Scala<a class="headerlink" href="#more-scala" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#more-scala'">¶</a></h2>
<section id="while-loop">
<h3>While Loop<a class="headerlink" href="#while-loop" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#while-loop'">¶</a></h3>
<ul class="simple">
<li><p>While loop</p></li>
<li><p>Not an expression</p></li>
</ul>
<p>In Scala, you can do imperative style loops and interactive loops:</p>
<p>Consider this interactive session to compute well-known example for sum</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-2"><span class="w">     </span><span class="o">|</span><span class="w">   </span><span class="kd">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-3"><span class="w">     </span><span class="o">|</span><span class="w">   </span><span class="kd">var</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-4"><span class="w">     </span><span class="o">|</span><span class="w">   </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-5"><span class="w">     </span><span class="o">|</span><span class="w">     </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span>
</span><span id="line-6"><span class="w">     </span><span class="o">|</span><span class="w">     </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="line-7"><span class="w">     </span><span class="o">|</span><span class="w">   </span><span class="p">}</span>
</span><span id="line-8"><span class="w">     </span><span class="o">|</span><span class="w">   </span><span class="n">sum</span>
</span><span id="line-9"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-10"><span class="n">sum</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">Int</span>
</span><span id="line-11">
</span><span id="line-12"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="line-13"><span class="n">res5</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10100</span>
</span><span id="line-14">
</span><span id="line-15"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="line-16"><span class="n">res6</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span></code></pre></div>
</div>
<p>Much is possible without iteration with the added advantage of being recursive and side-effect
free underneath the hood.</p>
<blockquote>
<div><p>scala&gt; def sum(n : Int) = (1 to n).sum
sum: (n: Int)Int</p>
<p>scala&gt; sum(0)
res8: Int = 0</p>
<p>scala&gt; sum(100)
res9: Int = 5050</p>
</div></blockquote>
<p>What about interactive loops?</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">ConsoleReader</span>
</span><span id="line-2"><span class="n">reader</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">tools</span><span class="p">.</span><span class="n">jline</span><span class="p">.</span><span class="n">console</span><span class="p">.</span><span class="nc">ConsoleReader</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-3"><span class="w">   </span><span class="n">scala</span><span class="p">.</span><span class="n">tools</span><span class="p">.</span><span class="n">jline</span><span class="p">.</span><span class="n">console</span><span class="p">.</span><span class="nc">ConsoleReader</span><span class="o">@</span><span class="mi">26075</span><span class="n">b18</span>
</span><span id="line-4">
</span><span id="line-5"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-6"><span class="n">response</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-7">
</span><span id="line-8"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-9"><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reader</span><span class="p">.</span><span class="n">readLine</span><span class="p">(</span><span class="s">"Enter a number &gt;= 0  and &lt;= 100? "</span><span class="p">).</span><span class="n">toInt</span>
</span><span id="line-10"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-11">
</span><span id="line-12"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</span><span id="line-13"><span class="n">response</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</span><span id="line-14">
</span><span id="line-15"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-16"><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reader</span><span class="p">.</span><span class="n">readLine</span><span class="p">(</span><span class="s">"Enter a number &gt;= 0  and &lt;= 100? "</span><span class="p">).</span><span class="n">toInt</span>
</span><span id="line-17"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-18"><span class="nc">Enter</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">and</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">100</span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span>
</span><span id="line-19"><span class="nc">Enter</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">and</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">100</span><span class="o">?</span><span class="w"> </span><span class="mi">105</span>
</span><span id="line-20"><span class="nc">Enter</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="n">and</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">100</span><span class="o">?</span><span class="w"> </span><span class="mi">100</span>
</span><span id="line-21"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">...</span>
</span></code></pre></div>
</div>
<p>It is interesting to think about whether we can turn an interactive while loop into one without
side effects. There are so many bad things that happen to us as CS1 educators when we work with
interactive loops:</p>
<ul class="simple">
<li><p>Improper initialization of the <code class="docutils literal notranslate"><span class="pre">response</span></code> variable.</p></li>
<li><p>Improper setting of <code class="docutils literal notranslate"><span class="pre">response</span></code> upon termination.</p></li>
<li><p>etc.</p></li>
</ul>
<p>This is my early attempt to figure out how to have a side-effect free
interactive while loop. Basic idea:</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">Stream.continually</span></code> to get a continuous stream of input lines
read.</p></li>
<li><p>Because <code class="docutils literal notranslate"><span class="pre">Stream</span></code> is lazy only in the tail, assume a blank line as
the first value of the stream (which is safely ignored). I’d like to
figure out the right way to eliminate this without introducing complexity.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">takeWhile</span></code> to accept input until an appropriate terminating condition (the word “no” is entered)</p></li>
<li><p>Convert each line to integer, if possible. We simplify exception
management by applying a <code class="docutils literal notranslate"><span class="pre">Try</span></code> wrapper to each attempted
conversion. <code class="docutils literal notranslate"><span class="pre">Try</span></code> is an important Scala idiom for representing a
computation that either succeeds with a result value or fails with
an exception.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">flatMap</span></code> to get only the input values where the conversion
succeeded. In the process of applying <code class="docutils literal notranslate"><span class="pre">flatMap</span></code>, however, we need
to convert each <code class="docutils literal notranslate"><span class="pre">Try</span></code> value to an <code class="docutils literal notranslate"><span class="pre">Option</span></code> value. <code class="docutils literal notranslate"><span class="pre">Option</span></code> is
very similar to <code class="docutils literal notranslate"><span class="pre">Try</span></code> but simpler in that it represents all failures as
<code class="docutils literal notranslate"><span class="pre">None</span></code>, which <code class="docutils literal notranslate"><span class="pre">flatMap</span></code> discards from the resulting list.</p></li>
</ul>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">""</span><span class="w"> </span><span class="o">#::</span><span class="w"> </span><span class="nc">Stream</span><span class="p">.</span><span class="n">continually</span><span class="p">(</span><span class="n">reader</span><span class="p">.</span><span class="n">readLine</span><span class="p">(</span><span class="s">"Prompt: "</span><span class="p">))</span>
</span><span id="line-2"><span class="n">s1</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Stream</span><span class="p">[</span><span class="nc">String</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Stream</span><span class="p">(,</span><span class="w"> </span><span class="o">?</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s1</span><span class="p">.</span><span class="n">takeWhile</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">"no"</span><span class="p">)</span>
</span><span id="line-5"><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Stream</span><span class="p">[</span><span class="nc">String</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Stream</span><span class="p">(,</span><span class="w"> </span><span class="o">?</span><span class="p">)</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">toList</span>
</span><span id="line-8"><span class="nc">Prompt</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span>
</span><span id="line-9"><span class="nc">Prompt</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span>
</span><span id="line-10"><span class="nc">Prompt</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span>
</span><span id="line-11"><span class="nc">Prompt</span><span class="p">:</span>
</span><span id="line-12"><span class="nc">Prompt</span><span class="p">:</span><span class="w"> </span><span class="n">s</span>
</span><span id="line-13"><span class="nc">Prompt</span><span class="p">:</span><span class="w"> </span><span class="n">no</span>
</span><span id="line-14"><span class="n">l</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">String</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="s">""</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w"> </span><span class="s">""</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">)</span>
</span><span id="line-15">
</span><span id="line-16"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">util</span><span class="p">.</span><span class="nc">Try</span>
</span><span id="line-17"><span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">util</span><span class="p">.</span><span class="nc">Try</span>
</span><span id="line-18">
</span><span id="line-19"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">toInteger</span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Try</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">toInt</span><span class="p">)</span>
</span><span id="line-20"><span class="n">toInteger</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">)</span><span class="n">scala</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="nc">Try</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span>
</span><span id="line-21">
</span><span id="line-22"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">toInteger</span><span class="p">)</span>
</span><span id="line-23"><span class="n">res3</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="n">scala</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="nc">Try</span><span class="p">[</span><span class="nc">Int</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="nc">Failure</span><span class="p">(</span><span class="n">java</span><span class="p">.</span><span class="n">lang</span><span class="p">.</span><span class="nc">NumberFormatException</span><span class="p">:</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="n">string</span><span class="p">:</span><span class="w"> </span><span class="s">""</span><span class="p">),</span><span class="w"> </span><span class="nc">Success</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span><span class="w"> </span><span class="nc">Success</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span><span class="w"> </span><span class="nc">Success</span><span class="p">(</span><span class="mi">55</span><span class="p">),</span><span class="w"> </span><span class="nc">Failure</span><span class="p">(</span><span class="n">java</span><span class="p">.</span><span class="n">lang</span><span class="p">.</span><span class="nc">NumberFormatException</span><span class="p">:</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="n">string</span><span class="p">:</span><span class="w"> </span><span class="s">""</span><span class="p">),</span><span class="w"> </span><span class="nc">Failure</span><span class="p">(</span><span class="n">java</span><span class="p">.</span><span class="n">lang</span><span class="p">.</span><span class="nc">NumberFormatException</span><span class="p">:</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="n">string</span><span class="p">:</span><span class="w"> </span><span class="s">"s"</span><span class="p">))</span>
</span><span id="line-24">
</span><span id="line-25"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">toInteger</span><span class="p">(</span><span class="n">t</span><span class="p">).</span><span class="n">toOption</span><span class="p">)</span>
</span><span id="line-26"><span class="n">res6</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Option</span><span class="p">[</span><span class="nc">Int</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="nc">Some</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span><span class="w"> </span><span class="nc">Some</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span><span class="w"> </span><span class="nc">Some</span><span class="p">(</span><span class="mi">55</span><span class="p">),</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="nc">None</span><span class="p">)</span>
</span><span id="line-27">
</span><span id="line-28"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">flatMap</span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">toInteger</span><span class="p">(</span><span class="n">t</span><span class="p">).</span><span class="n">toOption</span><span class="p">)</span>
</span><span id="line-29"><span class="n">res7</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="mi">55</span><span class="p">)</span>
</span><span id="line-30">
</span><span id="line-31"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">flatMap</span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">toInteger</span><span class="p">(</span><span class="n">t</span><span class="p">).</span><span class="n">toOption</span><span class="p">).</span><span class="n">sum</span>
</span><span id="line-32"><span class="n">res8</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">115</span>
</span></code></pre></div>
</div>
</section>
<section id="for-loop">
<h3>for loop<a class="headerlink" href="#for-loop" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#for-loop'">¶</a></h3>
<p>Similar to the while loop, a for loop exists for <em>imperative</em> style
programming, often when there is a need to do something where a
side-effect is needed.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-2"><span class="n">sum</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="line-5"><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
</span><span id="line-8"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-9"><span class="w">     </span><span class="o">|</span><span class="w">    </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span>
</span><span id="line-10"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-11">
</span><span id="line-12"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">s"The sum is </span><span class="si">$</span><span class="n">sum</span><span class="s">"</span><span class="p">)</span>
</span><span id="line-13"><span class="nc">The</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">5050</span>
</span></code></pre></div>
</div>
</section>
<section id="for-comprehension">
<h3>for comprehension<a class="headerlink" href="#for-comprehension" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#for-comprehension'">¶</a></h3>
<p>A for comprehension is designed for where you want a more functional style. That is, there is no intention
of having side effects, and it is likely that you want to use the result of the comprehension in another
computation.</p>
<p>Let’s look at something a bit more interesting: Getting the first <code class="docutils literal notranslate"><span class="pre">n</span></code> squares:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
</span><span id="line-2"><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">first_n_squares</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-5"><span class="n">first_n_squares</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-6"><span class="w">   </span><span class="nc">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>You could wrap this up nicely in a Scala function as follows:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">squares</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-2"><span class="n">squares</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">squares</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res7</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">IndexedSeq</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
</span><span id="line-6"><span class="w">   </span><span class="nc">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="options-and-failure-sans-exceptions">
<h3>options and failure sans exceptions<a class="headerlink" href="#options-and-failure-sans-exceptions" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#options-and-failure-sans-exceptions'">¶</a></h3>
<p>Per the Scala documentation: An option represents optional values. Instances
of Option are either an instance of scala.Some or the object None.</p>
<p>The Scala Option type is useful for dealing with the notion of success and
failure (but is not limited to supporting this concept). In the interests of
keeping this discussion focused on being CS1-friendly, an Option is always
connected to an underlying type. For example Option[Int] means that you either
get the Int, or nothing (None).</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Some</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-2"><span class="n">i</span><span class="p">:</span><span class="w"> </span><span class="nc">Some</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Some</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">None</span>
</span><span id="line-5"><span class="n">j</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">None</span>
</span></code></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Some</span></code> and <code class="docutils literal notranslate"><span class="pre">None</span></code> are both <em>case classes</em> that extend <code class="docutils literal notranslate"><span class="pre">Option[A]</span></code> (a generic class that allows you
to use any time). While knowing all of the details requires a mastery of object-oriented programming (and
perhaps more), the introduction of this idea is remarkably straightforward and one that can help students
to write better code from the beginning. In CS1 courses, we tend to spend a lot of time handling special
cases, and options give us a framework for dealing with missing information, etc.</p>
<p>As you can see from the above, <code class="docutils literal notranslate"><span class="pre">i</span></code> is defined as some value, in this case 3. It’s a wrapped value, of course,
that must be unbundled later. For example, here is an attempt to use the value <code class="docutils literal notranslate"><span class="pre">i</span></code> (incorrectly):</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span>
</span><span id="line-2"><span class="o">&lt;</span><span class="n">console</span><span class="o">&gt;:</span><span class="mi">9</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="nc">mismatch</span><span class="p">;</span>
</span><span id="line-3"><span class="w"> </span><span class="n">found</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="line-4"><span class="w"> </span><span class="n">required</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span>
</span><span id="line-5"><span class="w">              </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span>
</span><span id="line-6"><span class="w">                  </span><span class="n">^</span>
</span></code></pre></div>
</div>
<p>So how do we make use of <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span></code>? A method associated with options, <code class="docutils literal notranslate"><span class="pre">getOrElse</span></code> allows us to get the
<em>option</em>, if set to <em>some</em> value. Rather delightfully, we can set a value to be used, if the option was not set
previously.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">getOrElse</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res13</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">getOrElse</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res14</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</span></code></pre></div>
</div>
<p>So now if we want to use this value in a computation, we can just do this:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">.</span><span class="n">getOrElse</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">j</span><span class="p">.</span><span class="n">getOrElse</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res17</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</span></code></pre></div>
</div>
<p>Options have their uses throughout Scala, notably its libraries. For example, maps (a.k.a. associative
structures/arrays) use option to return the result of getting a key from the map:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">mutable</span><span class="p">.</span><span class="nc">HashMap</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="nc">Int</span><span class="p">]</span>
</span><span id="line-2"><span class="n">map</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">mutable</span><span class="p">.</span><span class="nc">HashMap</span><span class="p">[</span><span class="nc">String</span><span class="p">,</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Map</span><span class="p">()</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="s">"scala"</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res4</span><span class="p">:</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Map</span><span class="p">(</span><span class="n">scala</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="s">"java"</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
</span><span id="line-8"><span class="n">res5</span><span class="p">:</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Map</span><span class="p">(</span><span class="n">scala</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">java</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
</span><span id="line-9">
</span><span id="line-10"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="s">"C#"</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>
</span><span id="line-11"><span class="n">res6</span><span class="p">:</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Map</span><span class="p">(</span><span class="n">scala</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">java</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nc">C</span><span class="n">#</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>
</span><span id="line-12">
</span><span id="line-13"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="s">"F#"</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span>
</span><span id="line-14"><span class="n">res7</span><span class="p">:</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Map</span><span class="p">(</span><span class="n">scala</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nc">F</span><span class="n">#</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="n">java</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nc">C</span><span class="n">#</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>
</span><span id="line-15">
</span><span id="line-16"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="s">"scala"</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">22</span><span class="p">)</span>
</span><span id="line-17"><span class="n">res8</span><span class="p">:</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Map</span><span class="p">(</span><span class="n">scala</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="nc">F</span><span class="n">#</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="n">java</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nc">C</span><span class="n">#</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Here’s an attempt to get the case-sensitive and case-insensitive versions of key, F#, from the map:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"F#"</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res9</span><span class="p">:</span><span class="w"> </span><span class="nc">Option</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Some</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"f#"</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res10</span><span class="p">:</span><span class="w"> </span><span class="nc">Option</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">None</span>
</span></code></pre></div>
</div>
<p>Seasoned Java programmers know that an entry not found in the map will result in the <em>null</em> value being
returned. This differs from Scala, because the value gotten from the map must be <em>tested</em> before attempting
to use it in any way.</p>
<p>In Scala, because <code class="docutils literal notranslate"><span class="pre">None</span></code> and <code class="docutils literal notranslate"><span class="pre">Some(25)</span></code> are both options, you can use <code class="docutils literal notranslate"><span class="pre">getOrElse</span></code> to obtain the
options value (irrespective of whether the value is null, or not set) without writing an (unwanted) if-then-else
statement, which results in bloat (in most programming languages).</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"F#"</span><span class="p">).</span><span class="n">getOrElse</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="line-2"><span class="n">entry</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">s"The entry for F# is </span><span class="si">$</span><span class="n">entry</span><span class="s">"</span><span class="p">)</span>
</span><span id="line-5"><span class="nc">The</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">F</span><span class="n">#</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">25</span>
</span></code></pre></div>
</div>
<p>It’s often the case that we have <em>default</em> values associated with failure to
accomplish a certain task. The Option idiom is an attempt to standardize this
for core data structures and (as we’ll see) other situations (e.g. working
with complex for comprehensions). In the case of maps, an entry not found
would usually default to 0 or -1 (a convention that dates back to the earliest
days of C), which is preferable to throwing exceptions for no good reason (not to
mention our general dislike of prematurely covering exceptions as a programming
technique in CS1 in particular.)</p>
</section>
<section id="yield">
<h3>yield<a class="headerlink" href="#yield" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#yield'">¶</a></h3>
<p>Yield is used to take a collection and produce a new one with mapped values.</p>
<p>Let’s produce a List[Int] of squares from a List[Int] of the first three
integers:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-2"><span class="n">l</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span>
</span><span id="line-5"><span class="n">res10</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">l</span><span class="p">)</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">}</span>
</span><span id="line-8"><span class="n">res11</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Let’s try this with an Array[Int]:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-2"><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span>
</span><span id="line-5"><span class="n">res16</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>For the most part, when iterating over values and using yield, you will always get
back the same type, or another type that makes sense.</p>
<p>In these basic examples, the above can also be written as follows (without the for):</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res17</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
</span><span id="line-5"><span class="n">res18</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Int</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="ranges">
<h3>Ranges<a class="headerlink" href="#ranges" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#ranges'">¶</a></h3>
<p>Ranges should be familiar to you if you’ve worked with other agile scripting languages, e.g. Python.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">Range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res20</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>This gives a range of values from 1 to 5 but stopping at the last value before 5. The increment
is +1.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">Range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res22</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>You can also work backwards:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">Range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</span><span id="line-2"><span class="n">res24</span><span class="p">:</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">Range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>
</div>
</section>
<section id="multiple-generators">
<h3>Multiple generators<a class="headerlink" href="#multiple-generators" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#multiple-generators'">¶</a></h3>
</section>
<section id="if-guards">
<h3>If guards<a class="headerlink" href="#if-guards" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#if-guards'">¶</a></h3>
</section>
<section id="variables">
<h3>Variables<a class="headerlink" href="#variables" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#variables'">¶</a></h3>
</section>
<section id="patterns">
<h3>Patterns<a class="headerlink" href="#patterns" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#patterns'">¶</a></h3>
</section>
</section>
<section id="files">
<h2>Files<a class="headerlink" href="#files" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#files'">¶</a></h2>
<ul class="simple">
<li><p>Can use Scanner</p></li>
<li><p>scala.io.Source</p></li>
<li><p>Scala Iterator[Char]</p></li>
<li><p>getLines : Iterator[String]</p></li>
<li><p>Use with higher-order methods</p></li>
<li><p>Write with PrintWriter</p></li>
<li><p>Introduce APIs?</p></li>
</ul>
</section>
<section id="classes-and-objects">
<h2>Classes and Objects<a class="headerlink" href="#classes-and-objects" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#classes-and-objects'">¶</a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#classes'">¶</a></h3>
<p>Here is the familiar Point class. It’s often shown where the (x, y) coordinate pair are Int (even in
the Scala documentation) but is even more interesting with Double. This is an elaborated version that
includes elements appropriate mostly to CS1 and some that are best covered in CS2 and beyond.</p>
<p>What does this class Point show?</p>
<ul class="simple">
<li><p>how to create a simple Scala class. Notice the complete lack of keyboards and public/private/static that
tend to confuse students!</p></li>
<li><p>Scala brings back <em>disciplined</em> operator overloading. We’d probably not use this in CS1, but it is entirely
appropriate for CS2.</p></li>
<li><p>Shows how to refer to the object (familiarly) with <code class="docutils literal notranslate"><span class="pre">this</span></code>. Again, the methods relying on this might be
more appropriate for CS2 or even later courses that dive into OOP’s complexity.</p></li>
<li><p>Constructors? The Scala class definition itself makes it clear how one constructs an instance. Just like
a function definition in general, there can be default values. It is liberating not to have constructors
(especially too many of them), especially when trying to introduce a topic. (This will become readily
apparent when we look at <em>case classes</em>, which provide a mechanism for more data-centric OO abstraction.)</p></li>
<li><p>Convert an instance of class Point to a String representation using <code class="docutils literal notranslate"><span class="pre">ToString()</span></code>. <code class="docutils literal notranslate"><span class="pre">ToString()</span></code> can be
a valuable pedagogical tool, done right (as observed in languages like Python). Scala 2.10 gives us the
ability to do type-safe string interpolation by substituting the value of variables (their String
representation) into a String template. In Scala, prefixing a string literal with <code class="docutils literal notranslate"><span class="pre">s</span></code> will give you
a string where any variables (beginning with <code class="docutils literal notranslate"><span class="pre">$</span></code>) are substituted. Here, it allows us to get a beautiful
representation of a point as an (x, y) pair with virtually no effort or complexity!</p></li>
</ul>
<p>Let’s take a look at how the <code class="docutils literal notranslate"><span class="pre">Point</span></code> class is used:</p>
<p>This results in the following output.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">scala&gt; :load point.sc
</span><span id="line-2">:load point.sc
</span><span id="line-3">Loading point.sc...
</span><span id="line-4">defined class Point
</span><span id="line-5">p: Point = (2.0, 3.0)
</span><span id="line-6">q: Point = (-2.0, 3.0)
</span><span id="line-7">Two points (2.0, 3.0) and (-2.0, 3.0)
</span><span id="line-8">distanceToOrigin: Double = 3.605551275463989
</span><span id="line-9">distance from p to origin = 3.605551275463989
</span><span id="line-10">dpq: Double = 4.0
</span><span id="line-11">dqp: Double = 4.0
</span><span id="line-12">d(p,q) = 4.0
</span><span id="line-13">d(q,p) = 4.0
</span><span id="line-14">pointSum: Point = (0.0, 6.0)
</span><span id="line-15">pointSumOp: Point = (-2.0, 9.0)
</span><span id="line-16">p.add(q) = (-2.0, 9.0); p + q = (-2.0, 9.0)
</span></code></pre></div>
</div>
</section>
<section id="a-look-at-singleton-objects">
<h3>A Look at Singleton Objects<a class="headerlink" href="#a-look-at-singleton-objects" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#a-look-at-singleton-objects'">¶</a></h3>
<p>At some point, relying on the interpreter for trying out the Point class (as we have been doing until
now) grows a bit tedious. Furthermore, sometimes you want to have a complete, functioning program that
includes not just the class Point but also a driver program–often found in a <code class="docutils literal notranslate"><span class="pre">main()</span></code> method–that
allows you to run it from the command line.</p>
<p>Scala’s answer to <code class="docutils literal notranslate"><span class="pre">main()</span></code> (largely a vestige of C-based languages) is to support <em>singleton objects</em>,
which we rely upon in some more advanced examples. While we consider the singleton pattern to be a bit
overrated and overused (e.g. <code class="docutils literal notranslate"><span class="pre">Runtime.getRuntime()</span></code> and many others like it in Java’s API), the
singleton object as found here is completely decoupled from any class and allows you to create an
<em>environment</em> so to speak with its own namespace but without the burden of a full class definition.</p>
<p>In this example, we create a singleton object to act as our <code class="docutils literal notranslate"><span class="pre">main()</span></code> driver.</p>
<p>Similar to a class definition, you <em>can</em> have methods. Notably absent, however, are any parameters to
the object name. To create an entry point that allows the object to be used like any other Scala function,
we define an <code class="docutils literal notranslate"><span class="pre">apply()</span></code> method, which may or may not have parameters. In our case, we just want to be able
to run the same demo code we produced previously and then invoke the PointDemo as a function, e.g.
<code class="docutils literal notranslate"><span class="pre">PointDemo()</span></code>. This could be further wrapped with some logic to handle command-line arguments, etc.
More on that towards the end.</p>
</section>
</section>
<section id="useful-repl-functionality">
<h2>Useful REPL functionality<a class="headerlink" href="#useful-repl-functionality" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#useful-repl-functionality'">¶</a></h2>
<p>The Scala REPL supports a number of commands that can be greatly helpful for working interactively. We’ve
relied on many of these in the preparation of this tutorial but will focus on the highlights, especially
for use in CS1 teaching.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">scala&gt; :help
</span><span id="line-2">All commands can be abbreviated, e.g. :he instead of :help.
</span><span id="line-3">Those marked with a * have more detailed help, e.g. :help imports.
</span><span id="line-4">
</span><span id="line-5">:cp &lt;path&gt;                 add a jar or directory to the classpath
</span><span id="line-6">:help [command]            print this summary or command-specific help
</span><span id="line-7">:history [num]             show the history (optional num is commands to show)
</span><span id="line-8">:h? &lt;string&gt;               search the history
</span><span id="line-9">:imports [name name ...]   show import history, identifying sources of names
</span><span id="line-10">:implicits [-v]            show the implicits in scope
</span><span id="line-11">:javap &lt;path|class&gt;        disassemble a file or class name
</span><span id="line-12">:load &lt;path&gt;               load and interpret a Scala file
</span><span id="line-13">:paste                     enter paste mode: all input up to ctrl-D compiled together
</span><span id="line-14">:power                     enable power user mode
</span><span id="line-15">:quit                      exit the interpreter
</span><span id="line-16">:replay                    reset execution and replay all previous commands
</span><span id="line-17">:reset                     reset the repl to its initial state, forgetting all session entries
</span><span id="line-18">:sh &lt;command line&gt;         run a shell command (result is implicitly =&gt; List[String])
</span><span id="line-19">:silent                    disable/enable automatic printing of results
</span><span id="line-20">:type [-v] &lt;expr&gt;          display the type of an expression without evaluating it
</span><span id="line-21">:warnings                  show the suppressed warnings from the most recent line which had any
</span></code></pre></div>
</div>
<section id="paste">
<h3>paste<a class="headerlink" href="#paste" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#paste'">¶</a></h3>
<p>When writing longer definitions in the REPL, it can be tricky. Having paste mode allows you to take some
code you have (perhaps from an editor where you are typing a Scala program) and copy/paste into the Scala
session.</p>
<p>This shows an example of entering a slightly more verbose than needed definition of the <code class="docutils literal notranslate"><span class="pre">square()</span></code>
function (presented earlier in this section):</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="n">paste</span>
</span><span id="line-2"><span class="c1">// Entering paste mode (ctrl-D to finish)</span>
</span><span id="line-3">
</span><span id="line-4"><span class="k">def</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-5"><span class="w">   </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span>
</span><span id="line-6"><span class="p">}</span>
</span><span id="line-7">
</span><span id="line-8"><span class="c1">// Exiting paste mode, now interpreting.</span>
</span><span id="line-9">
</span><span id="line-10"><span class="n">square</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="nc">Int</span>
</span></code></pre></div>
</div>
<p>Notice that you don’t see the continuation characters when entering multiple lines of text.</p>
</section>
<section id="load">
<h3>load<a class="headerlink" href="#load" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#load'">¶</a></h3>
<p>Many programmers coming to Scala find it a bit frustrating at first that some things (like interactive
scripts, found in languages like Python) don’t work quite the same way. More often than not, the real issue
is whether there is an easy way to load a script into the REPL–as opposed to having to run it on the
command line (which is also possible but not the focus of this section). It is a matter of loading
the filename, which may be an absolute or relative path.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="n">load</span><span class="w"> </span><span class="n">myscript</span><span class="p">.</span><span class="n">scala</span>
</span></code></pre></div>
</div>
</section>
<section id="history">
<h3>history<a class="headerlink" href="#history" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#history'">¶</a></h3>
<p>History should be familiar to anyone who has used modern Unix shells. Even if you haven’t, you’ve probably
used the history buffer, which allows you to use the up/down arrows or emacs/vi commands (^p, ^n, j, k) to
access previous and next commands in the history buffer.</p>
<p>Scala also allows you to do ^r to perform a regex search for text within a previous command. We rely on
this heavily in our work, especially in this section, where it was necessary to look up previous attempts
within the REPL so they could be pasted into the notes!</p>
<p>In this example, I used ^r to search for the substring “val” so I could find a previous value definition in
my REPL session:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="p">(</span><span class="n">reverse</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">search</span><span class="p">)</span><span class="err">`</span><span class="kd">val</span><span class="ss">':</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"F#"</span><span class="p">).</span><span class="n">getOrElse</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>When you type ^r, you’ll be given the “(reverse-i-search)” prompt to perform a search. While the full
functionality of regex is provided, the nominal use is to type a few characters of something you
probably remember (at least partially). More often than not, I am looking for previous “val” or “def”
(functions).</p>
</section>
</section>
<section id="additional-resources">
<h2>Additional Resources<a class="headerlink" href="#additional-resources" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#additional-resources'">¶</a></h2>
<div class="citation-list" role="list">
<div class="citation" id="tailcalls" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a href="#id4" role="doc-backlink">TailCalls</a><span class="fn-bracket">]</span></span>
<p>Tail Call, <a class="reference external" href="http://en.wikipedia.org/wiki/Tail_call">http://en.wikipedia.org/wiki/Tail_call</a></p>
</div>
<div class="citation" id="id5" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a href="#id2" role="doc-backlink">GCD</a><span class="fn-bracket">]</span></span>
<p>Greatest Common Divisor, <a class="reference external" href="http://introcs.cs.luc.edu/html/gcdexamples.html">http://introcs.cs.luc.edu/html/gcdexamples.html</a></p>
</div>
<div class="citation" id="miscexplorationsscala" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a href="#id3" role="doc-backlink">MiscExplorationsScala</a><span class="fn-bracket">]</span></span>
<p>Miscellaneous Scala Explorations, <a class="reference external" href="https://bitbucket.org/lucproglangcourse/misc-explorations-scala">https://bitbucket.org/lucproglangcourse/misc-explorations-scala</a></p>
</div>
<div class="citation" id="scalaapi" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a href="#id1" role="doc-backlink">ScalaAPI</a><span class="fn-bracket">]</span></span>
<p>Scala API Documentation, <a class="reference external" href="http://www.scala-lang.org/api/current/#package">http://www.scala-lang.org/api/current/#package</a></p>
</div>
</div>
</section>
</section>
</div></div><aside class="hidden text-sm xl:block" id="right-sidebar">
<div class="sticky top-16 -mt-10 max-h-[calc(100vh-5rem)] overflow-y-auto pt-6 space-y-2"><p class="font-medium">On this page</p>
<ul>
<li><a :data-current="activeSection === '#motivating-scala-in-cs1'" class="reference internal" href="#motivating-scala-in-cs1">Motivating Scala in CS1</a></li>
<li><a :data-current="activeSection === '#getting-started'" class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a :data-current="activeSection === '#hello-world'" class="reference internal" href="#hello-world">Hello, World</a></li>
<li><a :data-current="activeSection === '#types-lack-of-primitives'" class="reference internal" href="#types-lack-of-primitives">Types - “Lack” of Primitives</a></li>
<li><a :data-current="activeSection === '#literals-are-mostly-what-you-expect'" class="reference internal" href="#literals-are-mostly-what-you-expect">Literals are mostly what you expect</a></li>
<li><a :data-current="activeSection === '#statements-vs-expressions'" class="reference internal" href="#statements-vs-expressions">Statements vs. Expressions</a></li>
<li><a :data-current="activeSection === '#everything-is-an-object'" class="reference internal" href="#everything-is-an-object">Everything is an Object</a></li>
<li><a :data-current="activeSection === '#tuples'" class="reference internal" href="#tuples">Tuples</a></li>
<li><a :data-current="activeSection === '#semicolon-inferencing'" class="reference internal" href="#semicolon-inferencing">Semicolon Inferencing</a></li>
<li><a :data-current="activeSection === '#simple-input-and-output'" class="reference internal" href="#simple-input-and-output">Simple Input (and Output)</a></li>
<li><a :data-current="activeSection === '#val-vs-var'" class="reference internal" href="#val-vs-var">val vs. var</a></li>
<li><a :data-current="activeSection === '#scripts-and-worksheets'" class="reference internal" href="#scripts-and-worksheets">Scripts and Worksheets</a></li>
<li><a :data-current="activeSection === '#conditional-and-functions'" class="reference internal" href="#conditional-and-functions">Conditional and Functions</a></li>
<li><a :data-current="activeSection === '#function-literals'" class="reference internal" href="#function-literals">Function literals</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#early-collection-arrays-and-lists'" class="reference internal" href="#early-collection-arrays-and-lists">Early Collection, Arrays and Lists</a><ul>
<li><a :data-current="activeSection === '#making-arrays-and-lists'" class="reference internal" href="#making-arrays-and-lists">Making Arrays and Lists</a></li>
<li><a :data-current="activeSection === '#indexing-traversing-arrays-and-lists'" class="reference internal" href="#indexing-traversing-arrays-and-lists">Indexing/Traversing Arrays and Lists</a></li>
<li><a :data-current="activeSection === '#standard-methods'" class="reference internal" href="#standard-methods">Standard Methods</a></li>
<li><a :data-current="activeSection === '#higher-order-methods'" class="reference internal" href="#higher-order-methods">Higher Order Methods</a></li>
<li><a :data-current="activeSection === '#currying-and-by-name-arguments'" class="reference internal" href="#currying-and-by-name-arguments">Currying and By-Name Arguments</a></li>
<li><a :data-current="activeSection === '#fill-and-tabulate'" class="reference internal" href="#fill-and-tabulate">Fill and Tabulate</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#recursion-for-iteration'" class="reference internal" href="#recursion-for-iteration">Recursion for Iteration</a></li>
<li><a :data-current="activeSection === '#some-cs1-friendly-examples'" class="reference internal" href="#some-cs1-friendly-examples">Some CS1 Friendly Examples</a><ul>
<li><a :data-current="activeSection === '#gcd'" class="reference internal" href="#gcd">GCD</a></li>
<li><a :data-current="activeSection === '#factorial'" class="reference internal" href="#factorial">Factorial</a></li>
<li><a :data-current="activeSection === '#monte-carlo-pi-calculation'" class="reference internal" href="#monte-carlo-pi-calculation">Monte Carlo <span class="math notranslate nohighlight">\(\pi\)</span> Calculation</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#more-scala'" class="reference internal" href="#more-scala">More Scala</a><ul>
<li><a :data-current="activeSection === '#while-loop'" class="reference internal" href="#while-loop">While Loop</a></li>
<li><a :data-current="activeSection === '#for-loop'" class="reference internal" href="#for-loop">for loop</a></li>
<li><a :data-current="activeSection === '#for-comprehension'" class="reference internal" href="#for-comprehension">for comprehension</a></li>
<li><a :data-current="activeSection === '#options-and-failure-sans-exceptions'" class="reference internal" href="#options-and-failure-sans-exceptions">options and failure sans exceptions</a></li>
<li><a :data-current="activeSection === '#yield'" class="reference internal" href="#yield">yield</a></li>
<li><a :data-current="activeSection === '#ranges'" class="reference internal" href="#ranges">Ranges</a></li>
<li><a :data-current="activeSection === '#multiple-generators'" class="reference internal" href="#multiple-generators">Multiple generators</a></li>
<li><a :data-current="activeSection === '#if-guards'" class="reference internal" href="#if-guards">If guards</a></li>
<li><a :data-current="activeSection === '#variables'" class="reference internal" href="#variables">Variables</a></li>
<li><a :data-current="activeSection === '#patterns'" class="reference internal" href="#patterns">Patterns</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#files'" class="reference internal" href="#files">Files</a></li>
<li><a :data-current="activeSection === '#classes-and-objects'" class="reference internal" href="#classes-and-objects">Classes and Objects</a><ul>
<li><a :data-current="activeSection === '#classes'" class="reference internal" href="#classes">Classes</a></li>
<li><a :data-current="activeSection === '#a-look-at-singleton-objects'" class="reference internal" href="#a-look-at-singleton-objects">A Look at Singleton Objects</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#useful-repl-functionality'" class="reference internal" href="#useful-repl-functionality">Useful REPL functionality</a><ul>
<li><a :data-current="activeSection === '#paste'" class="reference internal" href="#paste">paste</a></li>
<li><a :data-current="activeSection === '#load'" class="reference internal" href="#load">load</a></li>
<li><a :data-current="activeSection === '#history'" class="reference internal" href="#history">history</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#additional-resources'" class="reference internal" href="#additional-resources">Additional Resources</a></li>
</ul>
</div>
</aside>
</main>
</div>
</div><footer class="py-6 border-t border-border md:py-0">
<div class="container flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row">
<div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0">
<p class="text-sm leading-loose text-center text-muted-foreground md:text-left">© 2012-Present, Konstantin Läufer, Mark C. Lewis, and George K. Thiruvathukal Built with <a class="font-medium underline underline-offset-4" href="https://www.sphinx-doc.org" rel="noreferrer">Sphinx 8.2.3</a></p>
</div>
</div>
</footer>
</div>
<script src="../_static/documentation_options.js?v=cdbf2762"></script>
<script src="../_static/doctools.js?v=9bcbadda"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script defer="defer" src="../_static/theme.js?v=073f68d9"></script>
<script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>